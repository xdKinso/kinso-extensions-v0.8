"use strict";var source=(()=>{var Yr=Object.create;var ge=Object.defineProperty;var Hr=Object.getOwnPropertyDescriptor;var Zr=Object.getOwnPropertyNames;var Xr=Object.getPrototypeOf,ei=Object.prototype.hasOwnProperty;var ti=(t,e,n)=>e in t?ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ni=(t,e)=>()=>(t&&(e=t(t=0)),e);var st=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ri=(t,e)=>{for(var n in e)ge(t,n,{get:e[n],enumerable:!0})},En=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Zr(e))!ei.call(t,i)&&i!==n&&ge(t,i,{get:()=>e[i],enumerable:!(r=Hr(e,i))||r.enumerable});return t};var ii=(t,e,n)=>(n=t!=null?Yr(Xr(t)):{},En(e||!t||!t.__esModule?ge(n,"default",{value:t,enumerable:!0}):n,t)),si=t=>En(ge({},"__esModule",{value:!0}),t);var I=(t,e,n)=>ti(t,typeof e!="symbol"?e+"":e,n);var Cn=st(Me=>{"use strict";y();Me.byteLength=ai;Me.toByteArray=ci;Me.fromByteArray=fi;var V=[],$=[],oi=typeof Uint8Array<"u"?Uint8Array:Array,ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ee=0,In=ot.length;ee<In;++ee)V[ee]=ot[ee],$[ot.charCodeAt(ee)]=ee;var ee,In;$[45]=62;$[95]=63;function An(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function ai(t){var e=An(t),n=e[0],r=e[1];return(n+r)*3/4-r}function ui(t,e,n){return(e+n)*3/4-n}function ci(t){var e,n=An(t),r=n[0],i=n[1],s=new oi(ui(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=$[t.charCodeAt(l)]<<18|$[t.charCodeAt(l+1)]<<12|$[t.charCodeAt(l+2)]<<6|$[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=$[t.charCodeAt(l)]<<2|$[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=$[t.charCodeAt(l)]<<10|$[t.charCodeAt(l+1)]<<4|$[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function li(t){return V[t>>18&63]+V[t>>12&63]+V[t>>6&63]+V[t&63]}function hi(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(li(r));return i.join("")}function fi(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(hi(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(V[e>>2]+V[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(V[e>>10]+V[e>>4&63]+V[e<<2&63]+"=")),i.join("")}});var Pn=st(at=>{y();at.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,p=l>>1,m=-7,g=n?i-1:0,b=n?-1:1,x=t[e+g];for(g+=b,s=x&(1<<-m)-1,x>>=-m,m+=a;m>0;s=s*256+t[e+g],g+=b,m-=8);for(o=s&(1<<-m)-1,s>>=-m,m+=r;m>0;o=o*256+t[e+g],g+=b,m-=8);if(s===0)s=1-p;else{if(s===l)return o?NaN:(x?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-p}return(x?-1:1)*o*Math.pow(2,s-r)};at.write=function(t,e,n,r,i,s){var o,a,l,p=s*8-i-1,m=(1<<p)-1,g=m>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:s-1,S=r?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+g>=1?e+=b/l:e+=b*Math.pow(2,1-g),e*l>=2&&(o++,l/=2),o+g>=m?(a=0,o=m):o+g>=1?(a=(e*l-1)*Math.pow(2,i),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[n+x]=a&255,x+=S,a/=256,i-=8);for(o=o<<i|a,p+=i;p>0;t[n+x]=o&255,x+=S,o/=256,p-=8);t[n+x-S]|=P*128}});var Vn=st(le=>{"use strict";y();var ut=Cn(),ue=Pn(),Mn=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;le.Buffer=d;le.SlowBuffer=wi;le.INSPECT_MAX_BYTES=50;var ve=2147483647;le.kMaxLength=ve;d.TYPED_ARRAY_SUPPORT=pi();!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function pi(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}});Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function K(t){if(t>ve)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,d.prototype),e}function d(t,e,n){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ft(t)}return Nn(t,e,n)}d.poolSize=8192;function Nn(t,e,n){if(typeof t=="string")return gi(t,e);if(ArrayBuffer.isView(t))return mi(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return lt(t,e,n);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=t.valueOf&&t.valueOf();if(r!=null&&r!==t)return d.from(r,e,n);let i=yi(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return d.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}d.from=function(t,e,n){return Nn(t,e,n)};Object.setPrototypeOf(d.prototype,Uint8Array.prototype);Object.setPrototypeOf(d,Uint8Array);function Fn(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function di(t,e,n){return Fn(t),t<=0?K(t):e!==void 0?typeof n=="string"?K(t).fill(e,n):K(t).fill(e):K(t)}d.alloc=function(t,e,n){return di(t,e,n)};function ft(t){return Fn(t),K(t<0?0:pt(t)|0)}d.allocUnsafe=function(t){return ft(t)};d.allocUnsafeSlow=function(t){return ft(t)};function gi(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!d.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let n=Bn(t,e)|0,r=K(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function ct(t){let e=t.length<0?0:pt(t.length)|0,n=K(e);for(let r=0;r<e;r+=1)n[r]=t[r]&255;return n}function mi(t){if(G(t,Uint8Array)){let e=new Uint8Array(t);return lt(e.buffer,e.byteOffset,e.byteLength)}return ct(t)}function lt(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&n===void 0?r=new Uint8Array(t):n===void 0?r=new Uint8Array(t,e):r=new Uint8Array(t,e,n),Object.setPrototypeOf(r,d.prototype),r}function yi(t){if(d.isBuffer(t)){let e=pt(t.length)|0,n=K(e);return n.length===0||t.copy(n,0,0,e),n}if(t.length!==void 0)return typeof t.length!="number"||gt(t.length)?K(0):ct(t);if(t.type==="Buffer"&&Array.isArray(t.data))return ct(t.data)}function pt(t){if(t>=ve)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ve.toString(16)+" bytes");return t|0}function wi(t){return+t!=t&&(t=0),d.alloc(+t)}d.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==d.prototype};d.compare=function(e,n){if(G(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),G(n,Uint8Array)&&(n=d.from(n,n.offset,n.byteLength)),!d.isBuffer(e)||!d.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;let r=e.length,i=n.length;for(let s=0,o=Math.min(r,i);s<o;++s)if(e[s]!==n[s]){r=e[s],i=n[s];break}return r<i?-1:i<r?1:0};d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};d.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return d.alloc(0);let r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;let i=d.allocUnsafe(n),s=0;for(r=0;r<e.length;++r){let o=e[r];if(G(o,Uint8Array))s+o.length>i.length?(d.isBuffer(o)||(o=d.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(d.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function Bn(t,e){if(d.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let n=t.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return ht(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Ln(t).length;default:if(i)return r?-1:ht(t).length;e=(""+e).toLowerCase(),i=!0}}d.byteLength=Bn;function bi(t,e,n){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Oi(this,e,n);case"utf8":case"utf-8":return Tn(this,e,n);case"ascii":return Mi(this,e,n);case"latin1":case"binary":return vi(this,e,n);case"base64":return Ci(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ri(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}d.prototype._isBuffer=!0;function te(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}d.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)te(this,n,n+1);return this};d.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)te(this,n,n+3),te(this,n+1,n+2);return this};d.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)te(this,n,n+7),te(this,n+1,n+6),te(this,n+2,n+5),te(this,n+3,n+4);return this};d.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Tn(this,0,e):bi.apply(this,arguments)};d.prototype.toLocaleString=d.prototype.toString;d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:d.compare(this,e)===0};d.prototype.inspect=function(){let e="",n=le.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"};Mn&&(d.prototype[Mn]=d.prototype.inspect);d.prototype.compare=function(e,n,r,i,s){if(G(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),n<0||r>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&n>=r)return 0;if(i>=s)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=r-n,l=Math.min(o,a),p=this.slice(i,s),m=e.slice(n,r);for(let g=0;g<l;++g)if(p[g]!==m[g]){o=p[g],a=m[g];break}return o<a?-1:a<o?1:0};function Dn(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,gt(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof e=="string"&&(e=d.from(e,r)),d.isBuffer(e))return e.length===0?-1:vn(t,e,n,r,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):vn(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function vn(t,e,n,r,i){let s=1,o=t.length,a=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,n/=2}function l(m,g){return s===1?m[g]:m.readUInt16BE(g*s)}let p;if(i){let m=-1;for(p=n;p<o;p++)if(l(t,p)===l(e,m===-1?0:p-m)){if(m===-1&&(m=p),p-m+1===a)return m*s}else m!==-1&&(p-=p-m),m=-1}else for(n+a>o&&(n=o-a),p=n;p>=0;p--){let m=!0;for(let g=0;g<a;g++)if(l(t,p+g)!==l(e,g)){m=!1;break}if(m)return p}return-1}d.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1};d.prototype.indexOf=function(e,n,r){return Dn(this,e,n,r,!0)};d.prototype.lastIndexOf=function(e,n,r){return Dn(this,e,n,r,!1)};function xi(t,e,n,r){n=Number(n)||0;let i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;let s=e.length;r>s/2&&(r=s/2);let o;for(o=0;o<r;++o){let a=parseInt(e.substr(o*2,2),16);if(gt(a))return o;t[n+o]=a}return o}function Si(t,e,n,r){return Oe(ht(e,t.length-n),t,n,r)}function Ei(t,e,n,r){return Oe(Di(e),t,n,r)}function Ii(t,e,n,r){return Oe(Ln(e),t,n,r)}function Ai(t,e,n,r){return Oe(Ti(e,t.length-n),t,n,r)}d.prototype.write=function(e,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-n;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return xi(this,e,n,r);case"utf8":case"utf-8":return Si(this,e,n,r);case"ascii":case"latin1":case"binary":return Ei(this,e,n,r);case"base64":return Ii(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ai(this,e,n,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ci(t,e,n){return e===0&&n===t.length?ut.fromByteArray(t):ut.fromByteArray(t.slice(e,n))}function Tn(t,e,n){n=Math.min(t.length,n);let r=[],i=e;for(;i<n;){let s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=n){let l,p,m,g;switch(a){case 1:s<128&&(o=s);break;case 2:l=t[i+1],(l&192)===128&&(g=(s&31)<<6|l&63,g>127&&(o=g));break;case 3:l=t[i+1],p=t[i+2],(l&192)===128&&(p&192)===128&&(g=(s&15)<<12|(l&63)<<6|p&63,g>2047&&(g<55296||g>57343)&&(o=g));break;case 4:l=t[i+1],p=t[i+2],m=t[i+3],(l&192)===128&&(p&192)===128&&(m&192)===128&&(g=(s&15)<<18|(l&63)<<12|(p&63)<<6|m&63,g>65535&&g<1114112&&(o=g))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),i+=a}return Pi(r)}var On=4096;function Pi(t){let e=t.length;if(e<=On)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=On));return n}function Mi(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]&127);return r}function vi(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function Oi(t,e,n){let r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let s=e;s<n;++s)i+=_i[t[s]];return i}function Ri(t,e,n){let r=t.slice(e,n),i="";for(let s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}d.prototype.slice=function(e,n){let r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);let i=this.subarray(e,n);return Object.setPrototypeOf(i,d.prototype),i};function R(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(e,n,r){e=e>>>0,n=n>>>0,r||R(e,n,this.length);let i=this[e],s=1,o=0;for(;++o<n&&(s*=256);)i+=this[e+o]*s;return i};d.prototype.readUintBE=d.prototype.readUIntBE=function(e,n,r){e=e>>>0,n=n>>>0,r||R(e,n,this.length);let i=this[e+--n],s=1;for(;n>0&&(s*=256);)i+=this[e+--n]*s;return i};d.prototype.readUint8=d.prototype.readUInt8=function(e,n){return e=e>>>0,n||R(e,1,this.length),this[e]};d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,n){return e=e>>>0,n||R(e,2,this.length),this[e]|this[e+1]<<8};d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,n){return e=e>>>0,n||R(e,2,this.length),this[e]<<8|this[e+1]};d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,n){return e=e>>>0,n||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,n){return e=e>>>0,n||R(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};d.prototype.readBigUInt64LE=H(function(e){e=e>>>0,ce(e,"offset");let n=this[e],r=this[e+7];(n===void 0||r===void 0)&&me(e,this.length-8);let i=n+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});d.prototype.readBigUInt64BE=H(function(e){e=e>>>0,ce(e,"offset");let n=this[e],r=this[e+7];(n===void 0||r===void 0)&&me(e,this.length-8);let i=n*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(s)});d.prototype.readIntLE=function(e,n,r){e=e>>>0,n=n>>>0,r||R(e,n,this.length);let i=this[e],s=1,o=0;for(;++o<n&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*n)),i};d.prototype.readIntBE=function(e,n,r){e=e>>>0,n=n>>>0,r||R(e,n,this.length);let i=n,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*n)),o};d.prototype.readInt8=function(e,n){return e=e>>>0,n||R(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};d.prototype.readInt16LE=function(e,n){e=e>>>0,n||R(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};d.prototype.readInt16BE=function(e,n){e=e>>>0,n||R(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};d.prototype.readInt32LE=function(e,n){return e=e>>>0,n||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};d.prototype.readInt32BE=function(e,n){return e=e>>>0,n||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};d.prototype.readBigInt64LE=H(function(e){e=e>>>0,ce(e,"offset");let n=this[e],r=this[e+7];(n===void 0||r===void 0)&&me(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(n+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});d.prototype.readBigInt64BE=H(function(e){e=e>>>0,ce(e,"offset");let n=this[e],r=this[e+7];(n===void 0||r===void 0)&&me(e,this.length-8);let i=(n<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)});d.prototype.readFloatLE=function(e,n){return e=e>>>0,n||R(e,4,this.length),ue.read(this,e,!0,23,4)};d.prototype.readFloatBE=function(e,n){return e=e>>>0,n||R(e,4,this.length),ue.read(this,e,!1,23,4)};d.prototype.readDoubleLE=function(e,n){return e=e>>>0,n||R(e,8,this.length),ue.read(this,e,!0,52,8)};d.prototype.readDoubleBE=function(e,n){return e=e>>>0,n||R(e,8,this.length),ue.read(this,e,!1,52,8)};function T(t,e,n,r,i,s){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n=n>>>0,r=r>>>0,!i){let a=Math.pow(2,8*r)-1;T(this,e,n,r,a,0)}let s=1,o=0;for(this[n]=e&255;++o<r&&(s*=256);)this[n+o]=e/s&255;return n+r};d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n=n>>>0,r=r>>>0,!i){let a=Math.pow(2,8*r)-1;T(this,e,n,r,a,0)}let s=r-1,o=1;for(this[n+s]=e&255;--s>=0&&(o*=256);)this[n+s]=e/o&255;return n+r};d.prototype.writeUint8=d.prototype.writeUInt8=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,1,255,0),this[n]=e&255,n+1};d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,2,65535,0),this[n]=e&255,this[n+1]=e>>>8,n+2};d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=e&255,n+2};d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255,n+4};d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};function _n(t,e,n,r,i){qn(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n++]=s,s=s>>8,t[n++]=s,s=s>>8,t[n++]=s,s=s>>8,t[n++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=o,o=o>>8,t[n++]=o,o=o>>8,t[n++]=o,o=o>>8,t[n++]=o,n}function jn(t,e,n,r,i){qn(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n+7]=s,s=s>>8,t[n+6]=s,s=s>>8,t[n+5]=s,s=s>>8,t[n+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=o,o=o>>8,t[n+2]=o,o=o>>8,t[n+1]=o,o=o>>8,t[n]=o,n+8}d.prototype.writeBigUInt64LE=H(function(e,n=0){return _n(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))});d.prototype.writeBigUInt64BE=H(function(e,n=0){return jn(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))});d.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n=n>>>0,!i){let l=Math.pow(2,8*r-1);T(this,e,n,r,l-1,-l)}let s=0,o=1,a=0;for(this[n]=e&255;++s<r&&(o*=256);)e<0&&a===0&&this[n+s-1]!==0&&(a=1),this[n+s]=(e/o>>0)-a&255;return n+r};d.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n=n>>>0,!i){let l=Math.pow(2,8*r-1);T(this,e,n,r,l-1,-l)}let s=r-1,o=1,a=0;for(this[n+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[n+s+1]!==0&&(a=1),this[n+s]=(e/o>>0)-a&255;return n+r};d.prototype.writeInt8=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=e&255,n+1};d.prototype.writeInt16LE=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,2,32767,-32768),this[n]=e&255,this[n+1]=e>>>8,n+2};d.prototype.writeInt16BE=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=e&255,n+2};d.prototype.writeInt32LE=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,4,2147483647,-2147483648),this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4};d.prototype.writeInt32BE=function(e,n,r){return e=+e,n=n>>>0,r||T(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};d.prototype.writeBigInt64LE=H(function(e,n=0){return _n(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});d.prototype.writeBigInt64BE=H(function(e,n=0){return jn(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Un(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $n(t,e,n,r,i){return e=+e,n=n>>>0,i||Un(t,e,n,4,34028234663852886e22,-34028234663852886e22),ue.write(t,e,n,r,23,4),n+4}d.prototype.writeFloatLE=function(e,n,r){return $n(this,e,n,!0,r)};d.prototype.writeFloatBE=function(e,n,r){return $n(this,e,n,!1,r)};function kn(t,e,n,r,i){return e=+e,n=n>>>0,i||Un(t,e,n,8,17976931348623157e292,-17976931348623157e292),ue.write(t,e,n,r,52,8),n+8}d.prototype.writeDoubleLE=function(e,n,r){return kn(this,e,n,!0,r)};d.prototype.writeDoubleBE=function(e,n,r){return kn(this,e,n,!1,r)};d.prototype.copy=function(e,n,r,i){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);let s=i-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),n),s};d.prototype.fill=function(e,n,r,i){if(typeof e=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let s;if(typeof e=="number")for(s=n;s<r;++s)this[s]=e;else{let o=d.isBuffer(e)?e:d.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-n;++s)this[s+n]=o[s%a]}return this};var ae={};function dt(t,e,n){ae[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}dt("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);dt("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);dt("ERR_OUT_OF_RANGE",function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=Rn(String(n)):typeof n=="bigint"&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=Rn(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);function Rn(t){let e="",n=t.length,r=t[0]==="-"?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function Ni(t,e,n){ce(e,"offset"),(t[e]===void 0||t[e+n]===void 0)&&me(e,t.length-(n+1))}function qn(t,e,n,r,i,s){if(t>n||t<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${n}${o}`,new ae.ERR_OUT_OF_RANGE("value",a,t)}Ni(r,i,s)}function ce(t,e){if(typeof t!="number")throw new ae.ERR_INVALID_ARG_TYPE(e,"number",t)}function me(t,e,n){throw Math.floor(t)!==t?(ce(t,n),new ae.ERR_OUT_OF_RANGE(n||"offset","an integer",t)):e<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}var Fi=/[^+/0-9A-Za-z-_]/g;function Bi(t){if(t=t.split("=")[0],t=t.trim().replace(Fi,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function ht(t,e){e=e||1/0;let n,r=t.length,i=null,s=[];for(let o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function Di(t){let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function Ti(t,e){let n,r,i,s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}function Ln(t){return ut.toByteArray(Bi(t))}function Oe(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function G(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function gt(t){return t!==t}var _i=(function(){let t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){let r=n*16;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e})();function H(t){return typeof BigInt>"u"?ji:t}function ji(){throw new Error("BigInt not supported")}});var Gn,w,y=ni(()=>{Gn=ii(Vn(),1),w=Gn.Buffer});var as={};ri(as,{ComixGallery:()=>os,ComixGalleryExtension:()=>nt,filter:()=>F,parse:()=>D});y();y();y();y();y();var he=class{reloadForm(){let e=this.__underlying_formId;e&&Application.formDidChange(e)}get requiresExplicitSubmission(){return!1}};y();function ye(t,e){return{...e,id:t,type:"selectRow",isHidden:e.isHidden??!1}}function zn(t,e){return{...e,id:t,type:"buttonRow",isHidden:e.isHidden??!1}}function mt(t,e){return{...e,id:t,type:"navigationRow",isHidden:e.isHidden??!1}}y();function we(t,e){let n;return typeof t=="string"?n={id:t}:n=t,{...n,items:e.filter(r=>r)}}y();y();y();y();y();y();y();y();y();y();y();var ne=class{constructor(e){I(this,"id");this.id=e}registerInterceptor(){Application.registerInterceptor(this.id,Application.Selector(this,"interceptRequest"),Application.Selector(this,"interceptResponse"))}unregisterInterceptor(){Application.unregisterInterceptor(this.id)}};y();y();y();y();var Re={},yt={},wt=async t=>{if(Re[t]){await Re[t],await wt(t);return}Re[t]=new Promise(e=>yt[t]=()=>{delete Re[t],e()})},Qn=t=>{yt[t]&&yt[t]()};var Ne=class extends ne{constructor(n,r){super(n);I(this,"options");I(this,"promise");I(this,"currentRequestsMade",0);I(this,"lastReset",Date.now());I(this,"imageRegex",new RegExp(/\.(png|gif|jpeg|jpg|webp)(\?|$)/i));this.options=r}async interceptRequest(n){return this.options.ignoreImages&&this.imageRegex.test(n.url)||(await wt(this.id),await this.incrementRequestCount(),Qn(this.id)),n}async interceptResponse(n,r,i){return i}async incrementRequestCount(){if(await this.promise,(Date.now()-this.lastReset)/1e3>this.options.bufferInterval&&(this.currentRequestsMade=0,this.lastReset=Date.now()),this.currentRequestsMade+=1,this.currentRequestsMade>=this.options.numberOfRequests){let r=(Date.now()-this.lastReset)/1e3;if(r<=this.options.bufferInterval){let i=this.options.bufferInterval-r;console.log(`[BasicRateLimiter] rate limit hit, sleeping for ${i}`),this.promise=Application.sleep(i)}}}};y();var Fe=class extends Error{constructor(n,r="Cloudflare bypass is required"){super(r);I(this,"resolutionRequest");I(this,"type","cloudflareError");this.resolutionRequest=n}};y();y();function Wn(t){let e={},n=/^(?:([a-zA-Z][a-zA-Z\d+\-.]*):)?(?:\/\/([^/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/,r=t.match(n);if(!r)throw new Error("Invalid URL string provided.");if(r[1]!==void 0&&r[1]!==""&&(e.protocol=r[1]),r[2]!==void 0&&r[2]!==""){let i=r[2],s="",o="",a=i.indexOf("@");if(a!==-1){if(s=i.substring(0,a),o=i.substring(a+1),s!==""){let l=s.indexOf(":");l!==-1?(e.username=s.substring(0,l),e.password=s.substring(l+1)):(e.username=s,e.password="")}}else o=i;if(o!=="")if(o.startsWith("[")){let l=o.indexOf("]");if(l===-1)throw new Error("Invalid IPv6 address in URL update.");e.hostname=o.substring(0,l+1);let p=o.substring(l+1);p.startsWith(":")&&(e.port=p.substring(1))}else{let l=o.lastIndexOf(":");l!==-1&&o.indexOf(":")===l?(e.hostname=o.substring(0,l),e.port=o.substring(l+1)):(e.hostname=o,e.port="")}}if(r[3]!==void 0&&r[3]!==""&&(e.path=r[3].startsWith("/")?r[3]:`/${r[3]}`),r[4]!==void 0){let i={},s=r[4].split("&");for(let o of s){if(!o)continue;let[a,l=""]=o.split("=");if(a===void 0)continue;let p=decodeURIComponent(a),m=decodeURIComponent(l);if(p in i){let g=i[p];Array.isArray(g)?g.push(m):i[p]=[g,m]}else i[p]=m}e.queryItems=i}return r[5]!==void 0&&(e.fragment=r[5]),e}var _=class{constructor(e){I(this,"protocol");I(this,"hostname");I(this,"path");I(this,"username");I(this,"password");I(this,"port");I(this,"queryItems");I(this,"fragment");let n=Wn(e);if(!n.hostname||!n.protocol)throw new Error("URL Hostname and Protocol are required");this.hostname=n.hostname,this.protocol=n.protocol,this.path=n.path??"",this.username=n.username,this.password=n.password,this.port=n.port,this.queryItems=n.queryItems,this.fragment=n.fragment}toString(){let e=`${this.protocol}://`;if(this.username!==void 0&&this.username!==""&&(e+=this.username,this.password!==void 0&&this.password!==""&&(e+=`:${this.password}`),e+="@"),e+=this.hostname,this.port!==void 0&&this.port!==""&&(e+=`:${this.port}`),this.path!==""&&(e+=this.path.startsWith("/")?this.path:`/${this.path}`),this.queryItems!==void 0){let n=Object.keys(this.queryItems),r=[];if(n.length>0)for(let i of n){let s=this.queryItems[i];if(Array.isArray(s))for(let o of s)r.push(`${encodeURIComponent(i)}=${encodeURIComponent(o)}`);else s!==void 0&&r.push(`${encodeURIComponent(i)}=${encodeURIComponent(s)}`)}e+=`?${r.join("&")}`}return this.fragment!==void 0&&(e+=`#${this.fragment}`),e}setProtocol(e){if(e==="")throw new Error("Protocol is required");return this.protocol=e,this}setUsername(e){return e===""?this.username=void 0:this.username=e,this}setPassword(e){return e===""?this.password=void 0:this.password=e,this}setHostname(e){if(e==="")throw new Error("Hostname is required");return this.hostname=e,this}setPort(e){return e===""?this.port=void 0:this.port=e,this}setPath(e){return this.path=e.startsWith("/")?e:`/${e}`,this}addPathComponent(e){return this.path=(this.path??"")+(e.startsWith("/")?e:`/${e}`),this}setQueryItems(e){return this.queryItems=e,this}setQueryItem(e,n){return this.queryItems===void 0&&(this.queryItems={}),this.queryItems[e]=n,this}removeQueryItem(e){return delete this.queryItems?.[e],this}setFragment(e){return this.fragment=e,this}update(e){let n;return typeof e=="string"?n=Wn(e):n=e,n.protocol!==void 0&&this.setProtocol(n.protocol),n.username!==void 0&&this.setUsername(n.username),n.password!==void 0&&this.setPassword(n.password),n.hostname!==void 0&&this.setHostname(n.hostname),n.port!==void 0&&this.setPort(n.port),n.path!==void 0&&this.setPath(n.path),n.queryItems!==void 0&&this.setQueryItems(n.queryItems),n.fragment!==void 0&&this.setFragment(n.fragment),this}};y();y();var bt;(function(t){t[t.NONE=0]="NONE",t[t.MANGA_CHAPTERS=1]="MANGA_CHAPTERS",t[t.CHAPTER_PROVIDING=1]="CHAPTER_PROVIDING",t[t.MANGA_PROGRESS=2]="MANGA_PROGRESS",t[t.MANGA_PROGRESS_PROVIDING=2]="MANGA_PROGRESS_PROVIDING",t[t.DISCOVER_SECIONS=4]="DISCOVER_SECIONS",t[t.DISCOVER_SECIONS_PROVIDING=4]="DISCOVER_SECIONS_PROVIDING",t[t.COLLECTION_MANAGEMENT=8]="COLLECTION_MANAGEMENT",t[t.MANAGED_COLLECTION_PROVIDING=8]="MANAGED_COLLECTION_PROVIDING",t[t.CLOUDFLARE_BYPASS_REQUIRED=16]="CLOUDFLARE_BYPASS_REQUIRED",t[t.CLOUDFLARE_BYPASS_PROVIDING=16]="CLOUDFLARE_BYPASS_PROVIDING",t[t.SETTINGS_UI=32]="SETTINGS_UI",t[t.SETTINGS_FORM_PROVIDING=32]="SETTINGS_FORM_PROVIDING",t[t.MANGA_SEARCH=64]="MANGA_SEARCH",t[t.SEARCH_RESULTS_PROVIDING=64]="SEARCH_RESULTS_PROVIDING"})(bt||(bt={}));var J;(function(t){t.EVERYONE="SAFE",t.MATURE="MATURE",t.ADULT="ADULT"})(J||(J={}));y();var rr=Object.defineProperty,f=(t,e)=>rr(t,"name",{value:e,configurable:!0}),jt=(t,e)=>{for(var n in e)rr(t,n,{get:e[n],enumerable:!0})},Be={};jt(Be,{addChainableMethod:()=>Jt,addLengthGuard:()=>Ae,addMethod:()=>Qt,addProperty:()=>zt,checkError:()=>j,compareByInspect:()=>je,eql:()=>Rr,expectTypes:()=>lr,flag:()=>E,getActual:()=>Le,getMessage:()=>kt,getName:()=>Ge,getOperator:()=>Xt,getOwnEnumerableProperties:()=>Zt,getOwnEnumerablePropertySymbols:()=>Ht,getPathInfo:()=>Gt,hasProperty:()=>Ve,inspect:()=>A,isNaN:()=>Ue,isNumeric:()=>N,isProxyEnabled:()=>Ie,isRegExp:()=>$e,objDisplay:()=>re,overwriteChainableMethod:()=>Yt,overwriteMethod:()=>Kt,overwriteProperty:()=>Wt,proxify:()=>de,test:()=>Ut,transferFlags:()=>L,type:()=>v});var j={};jt(j,{compatibleConstructor:()=>or,compatibleInstance:()=>sr,compatibleMessage:()=>ar,getConstructorName:()=>ur,getMessage:()=>cr});function qe(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}f(qe,"isErrorInstance");function ir(t){return Object.prototype.toString.call(t)==="[object RegExp]"}f(ir,"isRegExp");function sr(t,e){return qe(e)&&t===e}f(sr,"compatibleInstance");function or(t,e){return qe(e)?t.constructor===e.constructor||t instanceof e.constructor:(typeof e=="object"||typeof e=="function")&&e.prototype?t.constructor===e||t instanceof e:!1}f(or,"compatibleConstructor");function ar(t,e){let n=typeof t=="string"?t:t.message;return ir(e)?e.test(n):typeof e=="string"?n.indexOf(e)!==-1:!1}f(ar,"compatibleMessage");function ur(t){let e=t;return qe(t)?e=t.constructor.name:typeof t=="function"&&(e=t.name,e===""&&(e=new t().name||e)),e}f(ur,"getConstructorName");function cr(t){let e="";return t&&t.message?e=t.message:typeof t=="string"&&(e=t),e}f(cr,"getMessage");function E(t,e,n){let r=t.__flags||(t.__flags=Object.create(null));if(arguments.length===3)r[e]=n;else return r[e]}f(E,"flag");function Ut(t,e){let n=E(t,"negate"),r=e[0];return n?!r:r}f(Ut,"test");function v(t){if(typeof t>"u")return"undefined";if(t===null)return"null";let e=t[Symbol.toStringTag];return typeof e=="string"?e:Object.prototype.toString.call(t).slice(8,-1)}f(v,"type");var $i="captureStackTrace"in Error,ie,C=(ie=class extends Error{constructor(n="Unspecified AssertionError",r,i){super(n);I(this,"message");this.message=n,$i&&Error.captureStackTrace(this,i||ie);for(let s in r)s in this||(this[s]=r[s])}get name(){return"AssertionError"}get ok(){return!1}toJSON(n){return{...this,name:this.name,message:this.message,ok:!1,stack:n!==!1?this.stack:void 0}}},f(ie,"AssertionError"),ie);function lr(t,e){let n=E(t,"message"),r=E(t,"ssfi");n=n?n+": ":"",t=E(t,"object"),e=e.map(function(o){return o.toLowerCase()}),e.sort();let i=e.map(function(o,a){let l=~["a","e","i","o","u"].indexOf(o.charAt(0))?"an":"a";return(e.length>1&&a===e.length-1?"or ":"")+l+" "+o}).join(", "),s=v(t).toLowerCase();if(!e.some(function(o){return s===o}))throw new C(n+"object tested must be "+i+", but "+s+" given",void 0,r)}f(lr,"expectTypes");function Le(t,e){return e.length>4?e[4]:t._obj}f(Le,"getActual");var Kn={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},ki={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},fe="\u2026";function hr(t,e){let n=Kn[ki[e]]||Kn[e]||"";return n?`\x1B[${n[0]}m${String(t)}\x1B[${n[1]}m`:String(t)}f(hr,"colorise");function fr({showHidden:t=!1,depth:e=2,colors:n=!1,customInspect:r=!0,showProxy:i=!1,maxArrayLength:s=1/0,breakLength:o=1/0,seen:a=[],truncate:l=1/0,stylize:p=String}={},m){let g={showHidden:!!t,depth:Number(e),colors:!!n,customInspect:!!r,showProxy:!!i,maxArrayLength:Number(s),breakLength:Number(o),truncate:Number(l),seen:a,inspect:m,stylize:p};return g.colors&&(g.stylize=hr),g}f(fr,"normaliseOptions");function pr(t){return t>="\uD800"&&t<="\uDBFF"}f(pr,"isHighSurrogate");function Y(t,e,n=fe){t=String(t);let r=n.length,i=t.length;if(r>e&&i>r)return n;if(i>e&&i>r){let s=e-r;return s>0&&pr(t[s-1])&&(s=s-1),`${t.slice(0,s)}${n}`}return t}f(Y,"truncate");function k(t,e,n,r=", "){n=n||e.inspect;let i=t.length;if(i===0)return"";let s=e.truncate,o="",a="",l="";for(let p=0;p<i;p+=1){let m=p+1===t.length,g=p+2===t.length;l=`${fe}(${t.length-p})`;let b=t[p];e.truncate=s-o.length-(m?0:r.length);let x=a||n(b,e)+(m?"":r),S=o.length+x.length,P=S+l.length;if(m&&S>s&&o.length+l.length<=s||!m&&!g&&P>s||(a=m?"":n(t[p+1],e)+(g?"":r),!m&&g&&P>s&&S+a.length>s))break;if(o+=x,!m&&!g&&S+a.length>=s){l=`${fe}(${t.length-p-1})`;break}l=""}return`${o}${l}`}f(k,"inspectList");function dr(t){return t.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?t:JSON.stringify(t).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}f(dr,"quoteComplexKey");function pe([t,e],n){return n.truncate-=2,typeof t=="string"?t=dr(t):typeof t!="number"&&(t=`[${n.inspect(t,n)}]`),n.truncate-=t.length,e=n.inspect(e,n),`${t}: ${e}`}f(pe,"inspectProperty");function gr(t,e){let n=Object.keys(t).slice(t.length);if(!t.length&&!n.length)return"[]";e.truncate-=4;let r=k(t,e);e.truncate-=r.length;let i="";return n.length&&(i=k(n.map(s=>[s,t[s]]),e,pe)),`[ ${r}${i?`, ${i}`:""} ]`}f(gr,"inspectArray");var qi=f(t=>typeof w=="function"&&t instanceof w?"Buffer":t[Symbol.toStringTag]?t[Symbol.toStringTag]:t.constructor.name,"getArrayName");function z(t,e){let n=qi(t);e.truncate-=n.length+4;let r=Object.keys(t).slice(t.length);if(!t.length&&!r.length)return`${n}[]`;let i="";for(let o=0;o<t.length;o++){let a=`${e.stylize(Y(t[o],e.truncate),"number")}${o===t.length-1?"":", "}`;if(e.truncate-=a.length,t[o]!==t.length&&e.truncate<=3){i+=`${fe}(${t.length-t[o]+1})`;break}i+=a}let s="";return r.length&&(s=k(r.map(o=>[o,t[o]]),e,pe)),`${n}[ ${i}${s?`, ${s}`:""} ]`}f(z,"inspectTypedArray");function mr(t,e){let n=t.toJSON();if(n===null)return"Invalid Date";let r=n.split("T"),i=r[0];return e.stylize(`${i}T${Y(r[1],e.truncate-i.length-1)}`,"date")}f(mr,"inspectDate");function It(t,e){let n=t[Symbol.toStringTag]||"Function",r=t.name;return r?e.stylize(`[${n} ${Y(r,e.truncate-11)}]`,"special"):e.stylize(`[${n}]`,"special")}f(It,"inspectFunction");function yr([t,e],n){return n.truncate-=4,t=n.inspect(t,n),n.truncate-=t.length,e=n.inspect(e,n),`${t} => ${e}`}f(yr,"inspectMapEntry");function wr(t){let e=[];return t.forEach((n,r)=>{e.push([r,n])}),e}f(wr,"mapToEntries");function br(t,e){return t.size===0?"Map{}":(e.truncate-=7,`Map{ ${k(wr(t),e,yr)} }`)}f(br,"inspectMap");var Li=Number.isNaN||(t=>t!==t);function At(t,e){return Li(t)?e.stylize("NaN","number"):t===1/0?e.stylize("Infinity","number"):t===-1/0?e.stylize("-Infinity","number"):t===0?e.stylize(1/t===1/0?"+0":"-0","number"):e.stylize(Y(String(t),e.truncate),"number")}f(At,"inspectNumber");function Ct(t,e){let n=Y(t.toString(),e.truncate-1);return n!==fe&&(n+="n"),e.stylize(n,"bigint")}f(Ct,"inspectBigInt");function xr(t,e){let n=t.toString().split("/")[2],r=e.truncate-(2+n.length),i=t.source;return e.stylize(`/${Y(i,r)}/${n}`,"regexp")}f(xr,"inspectRegExp");function Sr(t){let e=[];return t.forEach(n=>{e.push(n)}),e}f(Sr,"arrayFromSet");function Er(t,e){return t.size===0?"Set{}":(e.truncate-=7,`Set{ ${k(Sr(t),e)} }`)}f(Er,"inspectSet");var Jn=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),Vi={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},Gi=16,zi=4;function Ir(t){return Vi[t]||`\\u${`0000${t.charCodeAt(0).toString(Gi)}`.slice(-zi)}`}f(Ir,"escape");function Pt(t,e){return Jn.test(t)&&(t=t.replace(Jn,Ir)),e.stylize(`'${Y(t,e.truncate-2)}'`,"string")}f(Pt,"inspectString");function Mt(t){return"description"in Symbol.prototype?t.description?`Symbol(${t.description})`:"Symbol()":t.toString()}f(Mt,"inspectSymbol");var Qi=f(()=>"Promise{\u2026}","getPromiseValue"),Wi=Qi;function xe(t,e){let n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[];if(n.length===0&&r.length===0)return"{}";if(e.truncate-=4,e.seen=e.seen||[],e.seen.includes(t))return"[Circular]";e.seen.push(t);let i=k(n.map(a=>[a,t[a]]),e,pe),s=k(r.map(a=>[a,t[a]]),e,pe);e.seen.pop();let o="";return i&&s&&(o=", "),`{ ${i}${o}${s} }`}f(xe,"inspectObject");var xt=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function Ar(t,e){let n="";return xt&&xt in t&&(n=t[xt]),n=n||t.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),e.truncate-=n.length,`${n}${xe(t,e)}`}f(Ar,"inspectClass");function Cr(t,e){return t.length===0?"Arguments[]":(e.truncate-=13,`Arguments[ ${k(t,e)} ]`)}f(Cr,"inspectArguments");var Ki=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function Pr(t,e){let n=Object.getOwnPropertyNames(t).filter(o=>Ki.indexOf(o)===-1),r=t.name;e.truncate-=r.length;let i="";if(typeof t.message=="string"?i=Y(t.message,e.truncate):n.unshift("message"),i=i?`: ${i}`:"",e.truncate-=i.length+5,e.seen=e.seen||[],e.seen.includes(t))return"[Circular]";e.seen.push(t);let s=k(n.map(o=>[o,t[o]]),e,pe);return`${r}${i}${s?` { ${s} }`:""}`}f(Pr,"inspectObject");function Mr([t,e],n){return n.truncate-=3,e?`${n.stylize(String(t),"yellow")}=${n.stylize(`"${e}"`,"string")}`:`${n.stylize(String(t),"yellow")}`}f(Mr,"inspectAttribute");function De(t,e){return k(t,e,vr,`
`)}f(De,"inspectNodeCollection");function vr(t,e){switch(t.nodeType){case 1:return $t(t,e);case 3:return e.inspect(t.data,e);default:return e.inspect(t,e)}}f(vr,"inspectNode");function $t(t,e){let n=t.getAttributeNames(),r=t.tagName.toLowerCase(),i=e.stylize(`<${r}`,"special"),s=e.stylize(">","special"),o=e.stylize(`</${r}>`,"special");e.truncate-=r.length*2+5;let a="";n.length>0&&(a+=" ",a+=k(n.map(m=>[m,t.getAttribute(m)]),e,Mr," ")),e.truncate-=a.length;let l=e.truncate,p=De(t.children,e);return p&&p.length>l&&(p=`${fe}(${t.children.length})`),`${i}${a}${s}${p}${o}`}f($t,"inspectHTML");var Ji=typeof Symbol=="function"&&typeof Symbol.for=="function",St=Ji?Symbol.for("chai/inspect"):"@@chai/inspect",Et=Symbol.for("nodejs.util.inspect.custom"),Yn=new WeakMap,Hn={},Zn={undefined:f((t,e)=>e.stylize("undefined","undefined"),"undefined"),null:f((t,e)=>e.stylize("null","null"),"null"),boolean:f((t,e)=>e.stylize(String(t),"boolean"),"boolean"),Boolean:f((t,e)=>e.stylize(String(t),"boolean"),"Boolean"),number:At,Number:At,bigint:Ct,BigInt:Ct,string:Pt,String:Pt,function:It,Function:It,symbol:Mt,Symbol:Mt,Array:gr,Date:mr,Map:br,Set:Er,RegExp:xr,Promise:Wi,WeakSet:f((t,e)=>e.stylize("WeakSet{\u2026}","special"),"WeakSet"),WeakMap:f((t,e)=>e.stylize("WeakMap{\u2026}","special"),"WeakMap"),Arguments:Cr,Int8Array:z,Uint8Array:z,Uint8ClampedArray:z,Int16Array:z,Uint16Array:z,Int32Array:z,Uint32Array:z,Float32Array:z,Float64Array:z,Generator:f(()=>"","Generator"),DataView:f(()=>"","DataView"),ArrayBuffer:f(()=>"","ArrayBuffer"),Error:Pr,HTMLCollection:De,NodeList:De},Yi=f((t,e,n)=>St in t&&typeof t[St]=="function"?t[St](e):Et in t&&typeof t[Et]=="function"?t[Et](e.depth,e):"inspect"in t&&typeof t.inspect=="function"?t.inspect(e.depth,e):"constructor"in t&&Yn.has(t.constructor)?Yn.get(t.constructor)(t,e):Hn[n]?Hn[n](t,e):"","inspectCustom"),Hi=Object.prototype.toString;function Te(t,e={}){let n=fr(e,Te),{customInspect:r}=n,i=t===null?"null":typeof t;if(i==="object"&&(i=Hi.call(t).slice(8,-1)),i in Zn)return Zn[i](t,n);if(r&&t){let o=Yi(t,n,i);if(o)return typeof o=="string"?o:Te(o,n)}let s=t?Object.getPrototypeOf(t):!1;return s===Object.prototype||s===null?xe(t,n):t&&typeof HTMLElement=="function"&&t instanceof HTMLElement?$t(t,n):"constructor"in t?t.constructor!==Object?Ar(t,n):xe(t,n):t===Object(t)?xe(t,n):n.stylize(String(t),i)}f(Te,"inspect");var B={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"],deepEqual:null};function A(t,e,n,r){let i={colors:r,depth:typeof n>"u"?2:n,showHidden:e,truncate:B.truncateThreshold?B.truncateThreshold:1/0};return Te(t,i)}f(A,"inspect");function re(t){let e=A(t),n=Object.prototype.toString.call(t);if(B.truncateThreshold&&e.length>=B.truncateThreshold){if(n==="[object Function]")return!t.name||t.name===""?"[Function]":"[Function: "+t.name+"]";if(n==="[object Array]")return"[ Array("+t.length+") ]";if(n==="[object Object]"){let r=Object.keys(t);return"{ Object ("+(r.length>2?r.splice(0,2).join(", ")+", ...":r.join(", "))+") }"}else return e}else return e}f(re,"objDisplay");function kt(t,e){let n=E(t,"negate"),r=E(t,"object"),i=e[3],s=Le(t,e),o=n?e[2]:e[1],a=E(t,"message");return typeof o=="function"&&(o=o()),o=o||"",o=o.replace(/#\{this\}/g,function(){return re(r)}).replace(/#\{act\}/g,function(){return re(s)}).replace(/#\{exp\}/g,function(){return re(i)}),a?a+": "+o:o}f(kt,"getMessage");function L(t,e,n){let r=t.__flags||(t.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),n=arguments.length===3?n:!0;for(let i in r)(n||i!=="object"&&i!=="ssfi"&&i!=="lockSsfi"&&i!="message")&&(e.__flags[i]=r[i])}f(L,"transferFlags");function vt(t){if(typeof t>"u")return"undefined";if(t===null)return"null";let e=t[Symbol.toStringTag];return typeof e=="string"?e:Object.prototype.toString.call(t).slice(8,-1)}f(vt,"type");function qt(){this._key="chai/deep-eql__"+Math.random()+Date.now()}f(qt,"FakeMap");qt.prototype={get:f(function(e){return e[this._key]},"get"),set:f(function(e,n){Object.isExtensible(e)&&Object.defineProperty(e,this._key,{value:n,configurable:!0})},"set")};var Or=typeof WeakMap=="function"?WeakMap:qt;function Ot(t,e,n){if(!n||oe(t)||oe(e))return null;var r=n.get(t);if(r){var i=r.get(e);if(typeof i=="boolean")return i}return null}f(Ot,"memoizeCompare");function be(t,e,n,r){if(!(!n||oe(t)||oe(e))){var i=n.get(t);i?i.set(e,r):(i=new Or,i.set(e,r),n.set(t,i))}}f(be,"memoizeSet");var Rr=Ee;function Ee(t,e,n){if(n&&n.comparator)return Rt(t,e,n);var r=Lt(t,e);return r!==null?r:Rt(t,e,n)}f(Ee,"deepEqual");function Lt(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e?!0:oe(t)||oe(e)?!1:null}f(Lt,"simpleEqual");function Rt(t,e,n){n=n||{},n.memoize=n.memoize===!1?!1:n.memoize||new Or;var r=n&&n.comparator,i=Ot(t,e,n.memoize);if(i!==null)return i;var s=Ot(e,t,n.memoize);if(s!==null)return s;if(r){var o=r(t,e);if(o===!1||o===!0)return be(t,e,n.memoize,o),o;var a=Lt(t,e);if(a!==null)return a}var l=vt(t);if(l!==vt(e))return be(t,e,n.memoize,!1),!1;be(t,e,n.memoize,!0);var p=Nr(t,e,l,n);return be(t,e,n.memoize,p),p}f(Rt,"extensiveDeepEqual");function Nr(t,e,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return Ee(t.valueOf(),e.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return t===e;case"Error":return Vt(t,e,["name","message","code"],r);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return Z(t,e,r);case"RegExp":return Fr(t,e);case"Generator":return Br(t,e,r);case"DataView":return Z(new Uint8Array(t.buffer),new Uint8Array(e.buffer),r);case"ArrayBuffer":return Z(new Uint8Array(t),new Uint8Array(e),r);case"Set":return Nt(t,e,r);case"Map":return Nt(t,e,r);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return t.equals(e);case"Temporal.Duration":return t.total("nanoseconds")===e.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return t.toString()===e.toString();default:return Tr(t,e,r)}}f(Nr,"extensiveDeepEqualByType");function Fr(t,e){return t.toString()===e.toString()}f(Fr,"regexpEqual");function Nt(t,e,n){try{if(t.size!==e.size)return!1;if(t.size===0)return!0}catch{return!1}var r=[],i=[];return t.forEach(f(function(o,a){r.push([o,a])},"gatherEntries")),e.forEach(f(function(o,a){i.push([o,a])},"gatherEntries")),Z(r.sort(),i.sort(),n)}f(Nt,"entriesEqual");function Z(t,e,n){var r=t.length;if(r!==e.length)return!1;if(r===0)return!0;for(var i=-1;++i<r;)if(Ee(t[i],e[i],n)===!1)return!1;return!0}f(Z,"iterableEqual");function Br(t,e,n){return Z(_e(t),_e(e),n)}f(Br,"generatorEqual");function Dr(t){return typeof Symbol<"u"&&typeof t=="object"&&typeof Symbol.iterator<"u"&&typeof t[Symbol.iterator]=="function"}f(Dr,"hasIteratorFunction");function Ft(t){if(Dr(t))try{return _e(t[Symbol.iterator]())}catch{return[]}return[]}f(Ft,"getIteratorEntries");function _e(t){for(var e=t.next(),n=[e.value];e.done===!1;)e=t.next(),n.push(e.value);return n}f(_e,"getGeneratorEntries");function Bt(t){var e=[];for(var n in t)e.push(n);return e}f(Bt,"getEnumerableKeys");function Dt(t){for(var e=[],n=Object.getOwnPropertySymbols(t),r=0;r<n.length;r+=1){var i=n[r];Object.getOwnPropertyDescriptor(t,i).enumerable&&e.push(i)}return e}f(Dt,"getEnumerableSymbols");function Vt(t,e,n,r){var i=n.length;if(i===0)return!0;for(var s=0;s<i;s+=1)if(Ee(t[n[s]],e[n[s]],r)===!1)return!1;return!0}f(Vt,"keysEqual");function Tr(t,e,n){var r=Bt(t),i=Bt(e),s=Dt(t),o=Dt(e);if(r=r.concat(s),i=i.concat(o),r.length&&r.length===i.length)return Z(Tt(r).sort(),Tt(i).sort())===!1?!1:Vt(t,e,r,n);var a=Ft(t),l=Ft(e);return a.length&&a.length===l.length?(a.sort(),l.sort(),Z(a,l,n)):r.length===0&&a.length===0&&i.length===0&&l.length===0}f(Tr,"objectEqual");function oe(t){return t===null||typeof t!="object"}f(oe,"isPrimitive");function Tt(t){return t.map(f(function(n){return typeof n=="symbol"?n.toString():n},"mapSymbol"))}f(Tt,"mapSymbols");function Ve(t,e){return typeof t>"u"||t===null?!1:e in Object(t)}f(Ve,"hasProperty");function _r(t){return t.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map(r=>{if(r==="constructor"||r==="__proto__"||r==="prototype")return{};let s=/^\[(\d+)\]$/.exec(r),o=null;return s?o={i:parseFloat(s[1])}:o={p:r.replace(/\\([.[\]])/g,"$1")},o})}f(_r,"parsePath");function _t(t,e,n){let r=t,i=null;n=typeof n>"u"?e.length:n;for(let s=0;s<n;s++){let o=e[s];r&&(typeof o.p>"u"?r=r[o.i]:r=r[o.p],s===n-1&&(i=r))}return i}f(_t,"internalGetPathValue");function Gt(t,e){let n=_r(e),r=n[n.length-1],i={parent:n.length>1?_t(t,n,n.length-1):t,name:r.p||r.i,value:_t(t,n)};return i.exists=Ve(i.parent,i.name),i}f(Gt,"getPathInfo");var se,c=(se=class{constructor(e,n,r,i){I(this,"__flags",{});return E(this,"ssfi",r||se),E(this,"lockSsfi",i),E(this,"object",e),E(this,"message",n),E(this,"eql",B.deepEqual||Rr),de(this)}static get includeStack(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),B.includeStack}static set includeStack(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),B.includeStack=e}static get showDiff(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),B.showDiff}static set showDiff(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),B.showDiff=e}static addProperty(e,n){zt(this.prototype,e,n)}static addMethod(e,n){Qt(this.prototype,e,n)}static addChainableMethod(e,n,r){Jt(this.prototype,e,n,r)}static overwriteProperty(e,n){Wt(this.prototype,e,n)}static overwriteMethod(e,n){Kt(this.prototype,e,n)}static overwriteChainableMethod(e,n,r){Yt(this.prototype,e,n,r)}assert(e,n,r,i,s,o){let a=Ut(this,arguments);if(o!==!1&&(o=!0),i===void 0&&s===void 0&&(o=!1),B.showDiff!==!0&&(o=!1),!a){n=kt(this,arguments);let p={actual:Le(this,arguments),expected:i,showDiff:o},m=Xt(this,arguments);throw m&&(p.operator=m),new C(n,p,B.includeStack?this.assert:E(this,"ssfi"))}}get _obj(){return E(this,"object")}set _obj(e){E(this,"object",e)}},f(se,"Assertion"),se);function Ie(){return B.useProxy&&typeof Proxy<"u"&&typeof Reflect<"u"}f(Ie,"isProxyEnabled");function zt(t,e,n){n=n===void 0?function(){}:n,Object.defineProperty(t,e,{get:f(function r(){!Ie()&&!E(this,"lockSsfi")&&E(this,"ssfi",r);let i=n.call(this);if(i!==void 0)return i;let s=new c;return L(this,s),s},"propertyGetter"),configurable:!0})}f(zt,"addProperty");var Zi=Object.getOwnPropertyDescriptor(function(){},"length");function Ae(t,e,n){return Zi.configurable&&Object.defineProperty(t,"length",{get:f(function(){throw Error(n?"Invalid Chai property: "+e+'.length. Due to a compatibility issue, "length" cannot directly follow "'+e+'". Use "'+e+'.lengthOf" instead.':"Invalid Chai property: "+e+'.length. See docs for proper usage of "'+e+'".')},"get")}),t}f(Ae,"addLengthGuard");function jr(t){let e=Object.getOwnPropertyNames(t);function n(i){e.indexOf(i)===-1&&e.push(i)}f(n,"addProperty");let r=Object.getPrototypeOf(t);for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n),r=Object.getPrototypeOf(r);return e}f(jr,"getProperties");var Xn=["__flags","__methods","_obj","assert"];function de(t,e){return Ie()?new Proxy(t,{get:f(function n(r,i){if(typeof i=="string"&&B.proxyExcludedKeys.indexOf(i)===-1&&!Reflect.has(r,i)){if(e)throw Error("Invalid Chai property: "+e+"."+i+'. See docs for proper usage of "'+e+'".');let s=null,o=4;throw jr(r).forEach(function(a){if(!Object.prototype.hasOwnProperty(a)&&Xn.indexOf(a)===-1){let l=Ur(i,a,o);l<o&&(s=a,o=l)}}),Error(s!==null?"Invalid Chai property: "+i+'. Did you mean "'+s+'"?':"Invalid Chai property: "+i)}return Xn.indexOf(i)===-1&&!E(r,"lockSsfi")&&E(r,"ssfi",n),Reflect.get(r,i)},"proxyGetter")}):t}f(de,"proxify");function Ur(t,e,n){if(Math.abs(t.length-e.length)>=n)return n;let r=[];for(let i=0;i<=t.length;i++)r[i]=Array(e.length+1).fill(0),r[i][0]=i;for(let i=0;i<e.length;i++)r[0][i]=i;for(let i=1;i<=t.length;i++){let s=t.charCodeAt(i-1);for(let o=1;o<=e.length;o++){if(Math.abs(i-o)>=n){r[i][o]=n;continue}r[i][o]=Math.min(r[i-1][o]+1,r[i][o-1]+1,r[i-1][o-1]+(s===e.charCodeAt(o-1)?0:1))}}return r[t.length][e.length]}f(Ur,"stringDistanceCapped");function Qt(t,e,n){let r=f(function(){E(this,"lockSsfi")||E(this,"ssfi",r);let i=n.apply(this,arguments);if(i!==void 0)return i;let s=new c;return L(this,s),s},"methodWrapper");Ae(r,e,!1),t[e]=de(r,e)}f(Qt,"addMethod");function Wt(t,e,n){let r=Object.getOwnPropertyDescriptor(t,e),i=f(function(){},"_super");r&&typeof r.get=="function"&&(i=r.get),Object.defineProperty(t,e,{get:f(function s(){!Ie()&&!E(this,"lockSsfi")&&E(this,"ssfi",s);let o=E(this,"lockSsfi");E(this,"lockSsfi",!0);let a=n(i).call(this);if(E(this,"lockSsfi",o),a!==void 0)return a;let l=new c;return L(this,l),l},"overwritingPropertyGetter"),configurable:!0})}f(Wt,"overwriteProperty");function Kt(t,e,n){let r=t[e],i=f(function(){throw new Error(e+" is not a function")},"_super");r&&typeof r=="function"&&(i=r);let s=f(function(){E(this,"lockSsfi")||E(this,"ssfi",s);let o=E(this,"lockSsfi");E(this,"lockSsfi",!0);let a=n(i).apply(this,arguments);if(E(this,"lockSsfi",o),a!==void 0)return a;let l=new c;return L(this,l),l},"overwritingMethodWrapper");Ae(s,e,!1),t[e]=de(s,e)}f(Kt,"overwriteMethod");var Xi=typeof Object.setPrototypeOf=="function",er=f(function(){},"testFn"),es=Object.getOwnPropertyNames(er).filter(function(t){let e=Object.getOwnPropertyDescriptor(er,t);return typeof e!="object"?!0:!e.configurable}),ts=Function.prototype.call,ns=Function.prototype.apply;function Jt(t,e,n,r){typeof r!="function"&&(r=f(function(){},"chainingBehavior"));let i={method:n,chainingBehavior:r};t.__methods||(t.__methods={}),t.__methods[e]=i,Object.defineProperty(t,e,{get:f(function(){i.chainingBehavior.call(this);let o=f(function(){E(this,"lockSsfi")||E(this,"ssfi",o);let a=i.method.apply(this,arguments);if(a!==void 0)return a;let l=new c;return L(this,l),l},"chainableMethodWrapper");if(Ae(o,e,!0),Xi){let a=Object.create(this);a.call=ts,a.apply=ns,Object.setPrototypeOf(o,a)}else Object.getOwnPropertyNames(t).forEach(function(l){if(es.indexOf(l)!==-1)return;let p=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(o,l,p)});return L(this,o),de(o)},"chainableMethodGetter"),configurable:!0})}f(Jt,"addChainableMethod");function Yt(t,e,n,r){let i=t.__methods[e],s=i.chainingBehavior;i.chainingBehavior=f(function(){let l=r(s).call(this);if(l!==void 0)return l;let p=new c;return L(this,p),p},"overwritingChainableMethodGetter");let o=i.method;i.method=f(function(){let l=n(o).apply(this,arguments);if(l!==void 0)return l;let p=new c;return L(this,p),p},"overwritingChainableMethodWrapper")}f(Yt,"overwriteChainableMethod");function je(t,e){return A(t)<A(e)?-1:1}f(je,"compareByInspect");function Ht(t){return typeof Object.getOwnPropertySymbols!="function"?[]:Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}f(Ht,"getOwnEnumerablePropertySymbols");function Zt(t){return Object.keys(t).concat(Ht(t))}f(Zt,"getOwnEnumerableProperties");var Ue=Number.isNaN;function $r(t){let e=v(t);return["Array","Object","Function"].indexOf(e)!==-1}f($r,"isObjectType");function Xt(t,e){let n=E(t,"operator"),r=E(t,"negate"),i=e[3],s=r?e[2]:e[1];if(n)return n;if(typeof s=="function"&&(s=s()),s=s||"",!s||/\shave\s/.test(s))return;let o=$r(i);return/\snot\s/.test(s)?o?"notDeepStrictEqual":"notStrictEqual":o?"deepStrictEqual":"strictEqual"}f(Xt,"getOperator");function Ge(t){return t.name}f(Ge,"getName");function $e(t){return Object.prototype.toString.call(t)==="[object RegExp]"}f($e,"isRegExp");function N(t){return["Number","BigInt"].includes(v(t))}f(N,"isNumeric");var{flag:h}=Be;["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach(function(t){c.addProperty(t)});c.addProperty("not",function(){h(this,"negate",!0)});c.addProperty("deep",function(){h(this,"deep",!0)});c.addProperty("nested",function(){h(this,"nested",!0)});c.addProperty("own",function(){h(this,"own",!0)});c.addProperty("ordered",function(){h(this,"ordered",!0)});c.addProperty("any",function(){h(this,"any",!0),h(this,"all",!1)});c.addProperty("all",function(){h(this,"all",!0),h(this,"any",!1)});var tr={function:["function","asyncfunction","generatorfunction","asyncgeneratorfunction"],asyncfunction:["asyncfunction","asyncgeneratorfunction"],generatorfunction:["generatorfunction","asyncgeneratorfunction"],asyncgeneratorfunction:["asyncgeneratorfunction"]};function en(t,e){e&&h(this,"message",e),t=t.toLowerCase();let n=h(this,"object"),r=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ",i=v(n).toLowerCase();tr.function.includes(t)?this.assert(tr[t].includes(i),"expected #{this} to be "+r+t,"expected #{this} not to be "+r+t):this.assert(t===i,"expected #{this} to be "+r+t,"expected #{this} not to be "+r+t)}f(en,"an");c.addChainableMethod("an",en);c.addChainableMethod("a",en);function kr(t,e){return Ue(t)&&Ue(e)||t===e}f(kr,"SameValueZero");function Ce(){h(this,"contains",!0)}f(Ce,"includeChainingBehavior");function Pe(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=v(n).toLowerCase(),i=h(this,"message"),s=h(this,"negate"),o=h(this,"ssfi"),a=h(this,"deep"),l=a?"deep ":"",p=a?h(this,"eql"):kr;i=i?i+": ":"";let m=!1;switch(r){case"string":m=n.indexOf(t)!==-1;break;case"weakset":if(a)throw new C(i+"unable to use .deep.include with WeakSet",void 0,o);m=n.has(t);break;case"map":n.forEach(function(g){m=m||p(g,t)});break;case"set":a?n.forEach(function(g){m=m||p(g,t)}):m=n.has(t);break;case"array":a?m=n.some(function(g){return p(g,t)}):m=n.indexOf(t)!==-1;break;default:{if(t!==Object(t))throw new C(i+"the given combination of arguments ("+r+" and "+v(t).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+v(t).toLowerCase(),void 0,o);let g=Object.keys(t),b=null,x=0;if(g.forEach(function(S){let P=new c(n);if(L(this,P,!0),h(P,"lockSsfi",!0),!s||g.length===1){P.property(S,t[S]);return}try{P.property(S,t[S])}catch(q){if(!j.compatibleConstructor(q,C))throw q;b===null&&(b=q),x++}},this),s&&g.length>1&&x===g.length)throw b;return}}this.assert(m,"expected #{this} to "+l+"include "+A(t),"expected #{this} to not "+l+"include "+A(t))}f(Pe,"include");c.addChainableMethod("include",Pe,Ce);c.addChainableMethod("contain",Pe,Ce);c.addChainableMethod("contains",Pe,Ce);c.addChainableMethod("includes",Pe,Ce);c.addProperty("ok",function(){this.assert(h(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")});c.addProperty("true",function(){this.assert(h(this,"object")===!0,"expected #{this} to be true","expected #{this} to be false",!h(this,"negate"))});c.addProperty("numeric",function(){let t=h(this,"object");this.assert(["Number","BigInt"].includes(v(t)),"expected #{this} to be numeric","expected #{this} to not be numeric",!h(this,"negate"))});c.addProperty("callable",function(){let t=h(this,"object"),e=h(this,"ssfi"),n=h(this,"message"),r=n?`${n}: `:"",i=h(this,"negate"),s=i?`${r}expected ${A(t)} not to be a callable function`:`${r}expected ${A(t)} to be a callable function`,o=["Function","AsyncFunction","GeneratorFunction","AsyncGeneratorFunction"].includes(v(t));if(o&&i||!o&&!i)throw new C(s,void 0,e)});c.addProperty("false",function(){this.assert(h(this,"object")===!1,"expected #{this} to be false","expected #{this} to be true",!!h(this,"negate"))});c.addProperty("null",function(){this.assert(h(this,"object")===null,"expected #{this} to be null","expected #{this} not to be null")});c.addProperty("undefined",function(){this.assert(h(this,"object")===void 0,"expected #{this} to be undefined","expected #{this} not to be undefined")});c.addProperty("NaN",function(){this.assert(Ue(h(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")});function tn(){let t=h(this,"object");this.assert(t!=null,"expected #{this} to exist","expected #{this} to not exist")}f(tn,"assertExist");c.addProperty("exist",tn);c.addProperty("exists",tn);c.addProperty("empty",function(){let t=h(this,"object"),e=h(this,"ssfi"),n=h(this,"message"),r;switch(n=n?n+": ":"",v(t).toLowerCase()){case"array":case"string":r=t.length;break;case"map":case"set":r=t.size;break;case"weakmap":case"weakset":throw new C(n+".empty was passed a weak collection",void 0,e);case"function":{let i=n+".empty was passed a function "+Ge(t);throw new C(i.trim(),void 0,e)}default:if(t!==Object(t))throw new C(n+".empty was passed non-string primitive "+A(t),void 0,e);r=Object.keys(t).length}this.assert(r===0,"expected #{this} to be empty","expected #{this} not to be empty")});function nn(){let t=h(this,"object"),e=v(t);this.assert(e==="Arguments","expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}f(nn,"checkArguments");c.addProperty("arguments",nn);c.addProperty("Arguments",nn);function ze(t,e){e&&h(this,"message",e);let n=h(this,"object");if(h(this,"deep")){let r=h(this,"lockSsfi");h(this,"lockSsfi",!0),this.eql(t),h(this,"lockSsfi",r)}else this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}f(ze,"assertEqual");c.addMethod("equal",ze);c.addMethod("equals",ze);c.addMethod("eq",ze);function rn(t,e){e&&h(this,"message",e);let n=h(this,"eql");this.assert(n(t,h(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}f(rn,"assertEql");c.addMethod("eql",rn);c.addMethod("eqls",rn);function Qe(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"doLength"),i=h(this,"message"),s=i?i+": ":"",o=h(this,"ssfi"),a=v(n).toLowerCase(),l=v(t).toLowerCase();if(r&&a!=="map"&&a!=="set"&&new c(n,i,o,!0).to.have.property("length"),!r&&a==="date"&&l!=="date")throw new C(s+"the argument to above must be a date",void 0,o);if(!N(t)&&(r||N(n)))throw new C(s+"the argument to above must be a number",void 0,o);if(!r&&a!=="date"&&!N(n)){let p=a==="string"?"'"+n+"'":n;throw new C(s+"expected "+p+" to be a number or a date",void 0,o)}if(r){let p="length",m;a==="map"||a==="set"?(p="size",m=n.size):m=n.length,this.assert(m>t,"expected #{this} to have a "+p+" above #{exp} but got #{act}","expected #{this} to not have a "+p+" above #{exp}",t,m)}else this.assert(n>t,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",t)}f(Qe,"assertAbove");c.addMethod("above",Qe);c.addMethod("gt",Qe);c.addMethod("greaterThan",Qe);function We(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"doLength"),i=h(this,"message"),s=i?i+": ":"",o=h(this,"ssfi"),a=v(n).toLowerCase(),l=v(t).toLowerCase(),p,m=!0;if(r&&a!=="map"&&a!=="set"&&new c(n,i,o,!0).to.have.property("length"),!r&&a==="date"&&l!=="date")p=s+"the argument to least must be a date";else if(!N(t)&&(r||N(n)))p=s+"the argument to least must be a number";else if(!r&&a!=="date"&&!N(n)){let g=a==="string"?"'"+n+"'":n;p=s+"expected "+g+" to be a number or a date"}else m=!1;if(m)throw new C(p,void 0,o);if(r){let g="length",b;a==="map"||a==="set"?(g="size",b=n.size):b=n.length,this.assert(b>=t,"expected #{this} to have a "+g+" at least #{exp} but got #{act}","expected #{this} to have a "+g+" below #{exp}",t,b)}else this.assert(n>=t,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",t)}f(We,"assertLeast");c.addMethod("least",We);c.addMethod("gte",We);c.addMethod("greaterThanOrEqual",We);function Ke(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"doLength"),i=h(this,"message"),s=i?i+": ":"",o=h(this,"ssfi"),a=v(n).toLowerCase(),l=v(t).toLowerCase(),p,m=!0;if(r&&a!=="map"&&a!=="set"&&new c(n,i,o,!0).to.have.property("length"),!r&&a==="date"&&l!=="date")p=s+"the argument to below must be a date";else if(!N(t)&&(r||N(n)))p=s+"the argument to below must be a number";else if(!r&&a!=="date"&&!N(n)){let g=a==="string"?"'"+n+"'":n;p=s+"expected "+g+" to be a number or a date"}else m=!1;if(m)throw new C(p,void 0,o);if(r){let g="length",b;a==="map"||a==="set"?(g="size",b=n.size):b=n.length,this.assert(b<t,"expected #{this} to have a "+g+" below #{exp} but got #{act}","expected #{this} to not have a "+g+" below #{exp}",t,b)}else this.assert(n<t,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",t)}f(Ke,"assertBelow");c.addMethod("below",Ke);c.addMethod("lt",Ke);c.addMethod("lessThan",Ke);function Je(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"doLength"),i=h(this,"message"),s=i?i+": ":"",o=h(this,"ssfi"),a=v(n).toLowerCase(),l=v(t).toLowerCase(),p,m=!0;if(r&&a!=="map"&&a!=="set"&&new c(n,i,o,!0).to.have.property("length"),!r&&a==="date"&&l!=="date")p=s+"the argument to most must be a date";else if(!N(t)&&(r||N(n)))p=s+"the argument to most must be a number";else if(!r&&a!=="date"&&!N(n)){let g=a==="string"?"'"+n+"'":n;p=s+"expected "+g+" to be a number or a date"}else m=!1;if(m)throw new C(p,void 0,o);if(r){let g="length",b;a==="map"||a==="set"?(g="size",b=n.size):b=n.length,this.assert(b<=t,"expected #{this} to have a "+g+" at most #{exp} but got #{act}","expected #{this} to have a "+g+" above #{exp}",t,b)}else this.assert(n<=t,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",t)}f(Je,"assertMost");c.addMethod("most",Je);c.addMethod("lte",Je);c.addMethod("lessThanOrEqual",Je);c.addMethod("within",function(t,e,n){n&&h(this,"message",n);let r=h(this,"object"),i=h(this,"doLength"),s=h(this,"message"),o=s?s+": ":"",a=h(this,"ssfi"),l=v(r).toLowerCase(),p=v(t).toLowerCase(),m=v(e).toLowerCase(),g,b=!0,x=p==="date"&&m==="date"?t.toISOString()+".."+e.toISOString():t+".."+e;if(i&&l!=="map"&&l!=="set"&&new c(r,s,a,!0).to.have.property("length"),!i&&l==="date"&&(p!=="date"||m!=="date"))g=o+"the arguments to within must be dates";else if((!N(t)||!N(e))&&(i||N(r)))g=o+"the arguments to within must be numbers";else if(!i&&l!=="date"&&!N(r)){let S=l==="string"?"'"+r+"'":r;g=o+"expected "+S+" to be a number or a date"}else b=!1;if(b)throw new C(g,void 0,a);if(i){let S="length",P;l==="map"||l==="set"?(S="size",P=r.size):P=r.length,this.assert(P>=t&&P<=e,"expected #{this} to have a "+S+" within "+x,"expected #{this} to not have a "+S+" within "+x)}else this.assert(r>=t&&r<=e,"expected #{this} to be within "+x,"expected #{this} to not be within "+x)});function sn(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"ssfi"),i=h(this,"message"),s;try{s=n instanceof t}catch(a){throw a instanceof TypeError?(i=i?i+": ":"",new C(i+"The instanceof assertion needs a constructor but "+v(t)+" was given.",void 0,r)):a}let o=Ge(t);o==null&&(o="an unnamed constructor"),this.assert(s,"expected #{this} to be an instance of "+o,"expected #{this} to not be an instance of "+o)}f(sn,"assertInstanceOf");c.addMethod("instanceof",sn);c.addMethod("instanceOf",sn);function on(t,e,n){n&&h(this,"message",n);let r=h(this,"nested"),i=h(this,"own"),s=h(this,"message"),o=h(this,"object"),a=h(this,"ssfi"),l=typeof t;if(s=s?s+": ":"",r){if(l!=="string")throw new C(s+"the argument to property must be a string when using nested syntax",void 0,a)}else if(l!=="string"&&l!=="number"&&l!=="symbol")throw new C(s+"the argument to property must be a string, number, or symbol",void 0,a);if(r&&i)throw new C(s+'The "nested" and "own" flags cannot be combined.',void 0,a);if(o==null)throw new C(s+"Target cannot be null or undefined.",void 0,a);let p=h(this,"deep"),m=h(this,"negate"),g=r?Gt(o,t):null,b=r?g.value:o[t],x=p?h(this,"eql"):(q,O)=>q===O,S="";p&&(S+="deep "),i&&(S+="own "),r&&(S+="nested "),S+="property ";let P;i?P=Object.prototype.hasOwnProperty.call(o,t):r?P=g.exists:P=Ve(o,t),(!m||arguments.length===1)&&this.assert(P,"expected #{this} to have "+S+A(t),"expected #{this} to not have "+S+A(t)),arguments.length>1&&this.assert(P&&x(e,b),"expected #{this} to have "+S+A(t)+" of #{exp}, but got #{act}","expected #{this} to not have "+S+A(t)+" of #{act}",e,b),h(this,"object",b)}f(on,"assertProperty");c.addMethod("property",on);function an(t,e,n){h(this,"own",!0),on.apply(this,arguments)}f(an,"assertOwnProperty");c.addMethod("ownProperty",an);c.addMethod("haveOwnProperty",an);function un(t,e,n){typeof e=="string"&&(n=e,e=null),n&&h(this,"message",n);let r=h(this,"object"),i=Object.getOwnPropertyDescriptor(Object(r),t),s=h(this,"eql");i&&e?this.assert(s(e,i),"expected the own property descriptor for "+A(t)+" on #{this} to match "+A(e)+", got "+A(i),"expected the own property descriptor for "+A(t)+" on #{this} to not match "+A(e),e,i,!0):this.assert(i,"expected #{this} to have an own property descriptor for "+A(t),"expected #{this} to not have an own property descriptor for "+A(t)),h(this,"object",i)}f(un,"assertOwnPropertyDescriptor");c.addMethod("ownPropertyDescriptor",un);c.addMethod("haveOwnPropertyDescriptor",un);function cn(){h(this,"doLength",!0)}f(cn,"assertLengthChain");function ln(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=v(n).toLowerCase(),i=h(this,"message"),s=h(this,"ssfi"),o="length",a;switch(r){case"map":case"set":o="size",a=n.size;break;default:new c(n,i,s,!0).to.have.property("length"),a=n.length}this.assert(a==t,"expected #{this} to have a "+o+" of #{exp} but got #{act}","expected #{this} to not have a "+o+" of #{act}",t,a)}f(ln,"assertLength");c.addChainableMethod("length",ln,cn);c.addChainableMethod("lengthOf",ln,cn);function hn(t,e){e&&h(this,"message",e);let n=h(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}f(hn,"assertMatch");c.addMethod("match",hn);c.addMethod("matches",hn);c.addMethod("string",function(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"message"),i=h(this,"ssfi");new c(n,r,i,!0).is.a("string"),this.assert(~n.indexOf(t),"expected #{this} to contain "+A(t),"expected #{this} to not contain "+A(t))});function fn(t){let e=h(this,"object"),n=v(e),r=v(t),i=h(this,"ssfi"),s=h(this,"deep"),o,a="",l,p=!0,m=h(this,"message");m=m?m+": ":"";let g=m+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if(n==="Map"||n==="Set")a=s?"deeply ":"",l=[],e.forEach(function(O,U){l.push(U)}),r!=="Array"&&(t=Array.prototype.slice.call(arguments));else{switch(l=Zt(e),r){case"Array":if(arguments.length>1)throw new C(g,void 0,i);break;case"Object":if(arguments.length>1)throw new C(g,void 0,i);t=Object.keys(t);break;default:t=Array.prototype.slice.call(arguments)}t=t.map(function(O){return typeof O=="symbol"?O:String(O)})}if(!t.length)throw new C(m+"keys required",void 0,i);let b=t.length,x=h(this,"any"),S=h(this,"all"),P=t,q=s?h(this,"eql"):(O,U)=>O===U;if(!x&&!S&&(S=!0),x&&(p=P.some(function(O){return l.some(function(U){return q(O,U)})})),S&&(p=P.every(function(O){return l.some(function(U){return q(O,U)})}),h(this,"contains")||(p=p&&t.length==l.length)),b>1){t=t.map(function(U){return A(U)});let O=t.pop();S&&(o=t.join(", ")+", and "+O),x&&(o=t.join(", ")+", or "+O)}else o=A(t[0]);o=(b>1?"keys ":"key ")+o,o=(h(this,"contains")?"contain ":"have ")+o,this.assert(p,"expected #{this} to "+a+o,"expected #{this} to not "+a+o,P.slice(0).sort(je),l.sort(je),!0)}f(fn,"assertKeys");c.addMethod("keys",fn);c.addMethod("key",fn);function Ye(t,e,n){n&&h(this,"message",n);let r=h(this,"object"),i=h(this,"ssfi"),s=h(this,"message"),o=h(this,"negate")||!1;new c(r,s,i,!0).is.a("function"),($e(t)||typeof t=="string")&&(e=t,t=null);let a,l=!1;try{r()}catch(x){l=!0,a=x}let p=t===void 0&&e===void 0,m=!!(t&&e),g=!1,b=!1;if(p||!p&&!o){let x="an error";t instanceof Error?x="#{exp}":t&&(x=j.getConstructorName(t));let S=a;if(a instanceof Error)S=a.toString();else if(typeof a=="string")S=a;else if(a&&(typeof a=="object"||typeof a=="function"))try{S=j.getConstructorName(a)}catch{}this.assert(l,"expected #{this} to throw "+x,"expected #{this} to not throw an error but #{act} was thrown",t&&t.toString(),S)}if(t&&a&&(t instanceof Error&&j.compatibleInstance(a,t)===o&&(m&&o?g=!0:this.assert(o,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a&&!o?" but #{act} was thrown":""),t.toString(),a.toString())),j.compatibleConstructor(a,t)===o&&(m&&o?g=!0:this.assert(o,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a?" but #{act} was thrown":""),t instanceof Error?t.toString():t&&j.getConstructorName(t),a instanceof Error?a.toString():a&&j.getConstructorName(a)))),a&&e!==void 0&&e!==null){let x="including";$e(e)&&(x="matching"),j.compatibleMessage(a,e)===o&&(m&&o?b=!0:this.assert(o,"expected #{this} to throw error "+x+" #{exp} but got #{act}","expected #{this} to throw error not "+x+" #{exp}",e,j.getMessage(a)))}g&&b&&this.assert(o,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a?" but #{act} was thrown":""),t instanceof Error?t.toString():t&&j.getConstructorName(t),a instanceof Error?a.toString():a&&j.getConstructorName(a)),h(this,"object",a)}f(Ye,"assertThrows");c.addMethod("throw",Ye);c.addMethod("throws",Ye);c.addMethod("Throw",Ye);function pn(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"itself"),i=typeof n=="function"&&!r?n.prototype[t]:n[t];this.assert(typeof i=="function","expected #{this} to respond to "+A(t),"expected #{this} to not respond to "+A(t))}f(pn,"respondTo");c.addMethod("respondTo",pn);c.addMethod("respondsTo",pn);c.addProperty("itself",function(){h(this,"itself",!0)});function dn(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=t(n);this.assert(r,"expected #{this} to satisfy "+re(t),"expected #{this} to not satisfy"+re(t),!h(this,"negate"),r)}f(dn,"satisfy");c.addMethod("satisfy",dn);c.addMethod("satisfies",dn);function gn(t,e,n){n&&h(this,"message",n);let r=h(this,"object"),i=h(this,"message"),s=h(this,"ssfi");new c(r,i,s,!0).is.numeric;let o="A `delta` value is required for `closeTo`";if(e==null)throw new C(i?`${i}: ${o}`:o,void 0,s);if(new c(e,i,s,!0).is.numeric,o="A `expected` value is required for `closeTo`",t==null)throw new C(i?`${i}: ${o}`:o,void 0,s);new c(t,i,s,!0).is.numeric;let a=f(p=>p<0n?-p:p,"abs"),l=f(p=>parseFloat(parseFloat(p).toPrecision(12)),"strip");this.assert(l(a(r-t))<=e,"expected #{this} to be close to "+t+" +/- "+e,"expected #{this} not to be close to "+t+" +/- "+e)}f(gn,"closeTo");c.addMethod("closeTo",gn);c.addMethod("approximately",gn);function qr(t,e,n,r,i){let s=Array.from(e),o=Array.from(t);if(!r){if(o.length!==s.length)return!1;s=s.slice()}return o.every(function(a,l){if(i)return n?n(a,s[l]):a===s[l];if(!n){let p=s.indexOf(a);return p===-1?!1:(r||s.splice(p,1),!0)}return s.some(function(p,m){return n(a,p)?(r||s.splice(m,1),!0):!1})})}f(qr,"isSubsetOf");c.addMethod("members",function(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"message"),i=h(this,"ssfi");new c(n,r,i,!0).to.be.iterable,new c(t,r,i,!0).to.be.iterable;let s=h(this,"contains"),o=h(this,"ordered"),a,l,p;s?(a=o?"an ordered superset":"a superset",l="expected #{this} to be "+a+" of #{exp}",p="expected #{this} to not be "+a+" of #{exp}"):(a=o?"ordered members":"members",l="expected #{this} to have the same "+a+" as #{exp}",p="expected #{this} to not have the same "+a+" as #{exp}");let m=h(this,"deep")?h(this,"eql"):void 0;this.assert(qr(t,n,m,s,o),l,p,t,n,!0)});c.addProperty("iterable",function(t){t&&h(this,"message",t);let e=h(this,"object");this.assert(e!=null&&e[Symbol.iterator],"expected #{this} to be an iterable","expected #{this} to not be an iterable",e)});function Lr(t,e){e&&h(this,"message",e);let n=h(this,"object"),r=h(this,"message"),i=h(this,"ssfi"),s=h(this,"contains"),o=h(this,"deep"),a=h(this,"eql");new c(t,r,i,!0).to.be.an("array"),s?this.assert(t.some(function(l){return n.indexOf(l)>-1}),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",t,n):o?this.assert(t.some(function(l){return a(n,l)}),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",t,n):this.assert(t.indexOf(n)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",t,n)}f(Lr,"oneOf");c.addMethod("oneOf",Lr);function mn(t,e,n){n&&h(this,"message",n);let r=h(this,"object"),i=h(this,"message"),s=h(this,"ssfi");new c(r,i,s,!0).is.a("function");let o;e?(new c(t,i,s,!0).to.have.property(e),o=t[e]):(new c(t,i,s,!0).is.a("function"),o=t()),r();let a=e==null?t():t[e],l=e==null?o:"."+e;h(this,"deltaMsgObj",l),h(this,"initialDeltaValue",o),h(this,"finalDeltaValue",a),h(this,"deltaBehavior","change"),h(this,"realDelta",a!==o),this.assert(o!==a,"expected "+l+" to change","expected "+l+" to not change")}f(mn,"assertChanges");c.addMethod("change",mn);c.addMethod("changes",mn);function yn(t,e,n){n&&h(this,"message",n);let r=h(this,"object"),i=h(this,"message"),s=h(this,"ssfi");new c(r,i,s,!0).is.a("function");let o;e?(new c(t,i,s,!0).to.have.property(e),o=t[e]):(new c(t,i,s,!0).is.a("function"),o=t()),new c(o,i,s,!0).is.a("number"),r();let a=e==null?t():t[e],l=e==null?o:"."+e;h(this,"deltaMsgObj",l),h(this,"initialDeltaValue",o),h(this,"finalDeltaValue",a),h(this,"deltaBehavior","increase"),h(this,"realDelta",a-o),this.assert(a-o>0,"expected "+l+" to increase","expected "+l+" to not increase")}f(yn,"assertIncreases");c.addMethod("increase",yn);c.addMethod("increases",yn);function wn(t,e,n){n&&h(this,"message",n);let r=h(this,"object"),i=h(this,"message"),s=h(this,"ssfi");new c(r,i,s,!0).is.a("function");let o;e?(new c(t,i,s,!0).to.have.property(e),o=t[e]):(new c(t,i,s,!0).is.a("function"),o=t()),new c(o,i,s,!0).is.a("number"),r();let a=e==null?t():t[e],l=e==null?o:"."+e;h(this,"deltaMsgObj",l),h(this,"initialDeltaValue",o),h(this,"finalDeltaValue",a),h(this,"deltaBehavior","decrease"),h(this,"realDelta",o-a),this.assert(a-o<0,"expected "+l+" to decrease","expected "+l+" to not decrease")}f(wn,"assertDecreases");c.addMethod("decrease",wn);c.addMethod("decreases",wn);function Vr(t,e){e&&h(this,"message",e);let n=h(this,"deltaMsgObj"),r=h(this,"initialDeltaValue"),i=h(this,"finalDeltaValue"),s=h(this,"deltaBehavior"),o=h(this,"realDelta"),a;s==="change"?a=Math.abs(i-r)===Math.abs(t):a=o===Math.abs(t),this.assert(a,"expected "+n+" to "+s+" by "+t,"expected "+n+" to not "+s+" by "+t)}f(Vr,"assertDelta");c.addMethod("by",Vr);c.addProperty("extensible",function(){let t=h(this,"object"),e=t===Object(t)&&Object.isExtensible(t);this.assert(e,"expected #{this} to be extensible","expected #{this} to not be extensible")});c.addProperty("sealed",function(){let t=h(this,"object"),e=t===Object(t)?Object.isSealed(t):!0;this.assert(e,"expected #{this} to be sealed","expected #{this} to not be sealed")});c.addProperty("frozen",function(){let t=h(this,"object"),e=t===Object(t)?Object.isFrozen(t):!0;this.assert(e,"expected #{this} to be frozen","expected #{this} to not be frozen")});c.addProperty("finite",function(t){let e=h(this,"object");this.assert(typeof e=="number"&&isFinite(e),"expected #{this} to be a finite number","expected #{this} to not be a finite number")});function ke(t,e){return t===e?!0:typeof e!=typeof t?!1:typeof t!="object"||t===null?t===e:e?Array.isArray(t)?Array.isArray(e)?t.every(function(n){return e.some(function(r){return ke(n,r)})}):!1:t instanceof Date?e instanceof Date?t.getTime()===e.getTime():!1:Object.keys(t).every(function(n){let r=t[n],i=e[n];return typeof r=="object"&&r!==null&&i!==null?ke(r,i):typeof r=="function"?r(i):i===r}):!1}f(ke,"compareSubset");c.addMethod("containSubset",function(t){let e=E(this,"object"),n=B.showDiff;this.assert(ke(t,e),"expected #{act} to contain subset #{exp}","expected #{act} to not contain subset #{exp}",t,e,n)});function Se(t,e){return new c(t,e)}f(Se,"expect");Se.fail=function(t,e,n,r){throw arguments.length<2&&(n=t,t=void 0),n=n||"expect.fail()",new C(n,{actual:t,expected:e,operator:r},Se.fail)};var Gr={};jt(Gr,{Should:()=>is,should:()=>rs});function bn(){function t(){return this instanceof String||this instanceof Number||this instanceof Boolean||typeof Symbol=="function"&&this instanceof Symbol||typeof BigInt=="function"&&this instanceof BigInt?new c(this.valueOf(),null,t):new c(this,null,t)}f(t,"shouldGetter");function e(r){Object.defineProperty(this,"should",{value:r,enumerable:!0,configurable:!0,writable:!0})}f(e,"shouldSetter"),Object.defineProperty(Object.prototype,"should",{set:e,get:t,configurable:!0});let n={};return n.fail=function(r,i,s,o){throw arguments.length<2&&(s=r,r=void 0),s=s||"should.fail()",new C(s,{actual:r,expected:i,operator:o},n.fail)},n.equal=function(r,i,s){new c(r,s).to.equal(i)},n.Throw=function(r,i,s,o){new c(r,o).to.Throw(i,s)},n.exist=function(r,i){new c(r,i).to.exist},n.not={},n.not.equal=function(r,i,s){new c(r,s).to.not.equal(i)},n.not.Throw=function(r,i,s,o){new c(r,o).to.not.Throw(i,s)},n.not.exist=function(r,i){new c(r,i).to.not.exist},n.throw=n.Throw,n.not.throw=n.not.Throw,n}f(bn,"loadShould");var rs=bn,is=bn;function u(t,e){new c(null,null,u,!0).assert(t,e,"[ negation message unavailable ]")}f(u,"assert");u.fail=function(t,e,n,r){throw arguments.length<2&&(n=t,t=void 0),n=n||"assert.fail()",new C(n,{actual:t,expected:e,operator:r},u.fail)};u.isOk=function(t,e){new c(t,e,u.isOk,!0).is.ok};u.isNotOk=function(t,e){new c(t,e,u.isNotOk,!0).is.not.ok};u.equal=function(t,e,n){let r=new c(t,n,u.equal,!0);r.assert(e==E(r,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t,!0)};u.notEqual=function(t,e,n){let r=new c(t,n,u.notEqual,!0);r.assert(e!=E(r,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t,!0)};u.strictEqual=function(t,e,n){new c(t,n,u.strictEqual,!0).to.equal(e)};u.notStrictEqual=function(t,e,n){new c(t,n,u.notStrictEqual,!0).to.not.equal(e)};u.deepEqual=u.deepStrictEqual=function(t,e,n){new c(t,n,u.deepEqual,!0).to.eql(e)};u.notDeepEqual=function(t,e,n){new c(t,n,u.notDeepEqual,!0).to.not.eql(e)};u.isAbove=function(t,e,n){new c(t,n,u.isAbove,!0).to.be.above(e)};u.isAtLeast=function(t,e,n){new c(t,n,u.isAtLeast,!0).to.be.least(e)};u.isBelow=function(t,e,n){new c(t,n,u.isBelow,!0).to.be.below(e)};u.isAtMost=function(t,e,n){new c(t,n,u.isAtMost,!0).to.be.most(e)};u.isTrue=function(t,e){new c(t,e,u.isTrue,!0).is.true};u.isNotTrue=function(t,e){new c(t,e,u.isNotTrue,!0).to.not.equal(!0)};u.isFalse=function(t,e){new c(t,e,u.isFalse,!0).is.false};u.isNotFalse=function(t,e){new c(t,e,u.isNotFalse,!0).to.not.equal(!1)};u.isNull=function(t,e){new c(t,e,u.isNull,!0).to.equal(null)};u.isNotNull=function(t,e){new c(t,e,u.isNotNull,!0).to.not.equal(null)};u.isNaN=function(t,e){new c(t,e,u.isNaN,!0).to.be.NaN};u.isNotNaN=function(t,e){new c(t,e,u.isNotNaN,!0).not.to.be.NaN};u.exists=function(t,e){new c(t,e,u.exists,!0).to.exist};u.notExists=function(t,e){new c(t,e,u.notExists,!0).to.not.exist};u.isUndefined=function(t,e){new c(t,e,u.isUndefined,!0).to.equal(void 0)};u.isDefined=function(t,e){new c(t,e,u.isDefined,!0).to.not.equal(void 0)};u.isCallable=function(t,e){new c(t,e,u.isCallable,!0).is.callable};u.isNotCallable=function(t,e){new c(t,e,u.isNotCallable,!0).is.not.callable};u.isObject=function(t,e){new c(t,e,u.isObject,!0).to.be.a("object")};u.isNotObject=function(t,e){new c(t,e,u.isNotObject,!0).to.not.be.a("object")};u.isArray=function(t,e){new c(t,e,u.isArray,!0).to.be.an("array")};u.isNotArray=function(t,e){new c(t,e,u.isNotArray,!0).to.not.be.an("array")};u.isString=function(t,e){new c(t,e,u.isString,!0).to.be.a("string")};u.isNotString=function(t,e){new c(t,e,u.isNotString,!0).to.not.be.a("string")};u.isNumber=function(t,e){new c(t,e,u.isNumber,!0).to.be.a("number")};u.isNotNumber=function(t,e){new c(t,e,u.isNotNumber,!0).to.not.be.a("number")};u.isNumeric=function(t,e){new c(t,e,u.isNumeric,!0).is.numeric};u.isNotNumeric=function(t,e){new c(t,e,u.isNotNumeric,!0).is.not.numeric};u.isFinite=function(t,e){new c(t,e,u.isFinite,!0).to.be.finite};u.isBoolean=function(t,e){new c(t,e,u.isBoolean,!0).to.be.a("boolean")};u.isNotBoolean=function(t,e){new c(t,e,u.isNotBoolean,!0).to.not.be.a("boolean")};u.typeOf=function(t,e,n){new c(t,n,u.typeOf,!0).to.be.a(e)};u.notTypeOf=function(t,e,n){new c(t,n,u.notTypeOf,!0).to.not.be.a(e)};u.instanceOf=function(t,e,n){new c(t,n,u.instanceOf,!0).to.be.instanceOf(e)};u.notInstanceOf=function(t,e,n){new c(t,n,u.notInstanceOf,!0).to.not.be.instanceOf(e)};u.include=function(t,e,n){new c(t,n,u.include,!0).include(e)};u.notInclude=function(t,e,n){new c(t,n,u.notInclude,!0).not.include(e)};u.deepInclude=function(t,e,n){new c(t,n,u.deepInclude,!0).deep.include(e)};u.notDeepInclude=function(t,e,n){new c(t,n,u.notDeepInclude,!0).not.deep.include(e)};u.nestedInclude=function(t,e,n){new c(t,n,u.nestedInclude,!0).nested.include(e)};u.notNestedInclude=function(t,e,n){new c(t,n,u.notNestedInclude,!0).not.nested.include(e)};u.deepNestedInclude=function(t,e,n){new c(t,n,u.deepNestedInclude,!0).deep.nested.include(e)};u.notDeepNestedInclude=function(t,e,n){new c(t,n,u.notDeepNestedInclude,!0).not.deep.nested.include(e)};u.ownInclude=function(t,e,n){new c(t,n,u.ownInclude,!0).own.include(e)};u.notOwnInclude=function(t,e,n){new c(t,n,u.notOwnInclude,!0).not.own.include(e)};u.deepOwnInclude=function(t,e,n){new c(t,n,u.deepOwnInclude,!0).deep.own.include(e)};u.notDeepOwnInclude=function(t,e,n){new c(t,n,u.notDeepOwnInclude,!0).not.deep.own.include(e)};u.match=function(t,e,n){new c(t,n,u.match,!0).to.match(e)};u.notMatch=function(t,e,n){new c(t,n,u.notMatch,!0).to.not.match(e)};u.property=function(t,e,n){new c(t,n,u.property,!0).to.have.property(e)};u.notProperty=function(t,e,n){new c(t,n,u.notProperty,!0).to.not.have.property(e)};u.propertyVal=function(t,e,n,r){new c(t,r,u.propertyVal,!0).to.have.property(e,n)};u.notPropertyVal=function(t,e,n,r){new c(t,r,u.notPropertyVal,!0).to.not.have.property(e,n)};u.deepPropertyVal=function(t,e,n,r){new c(t,r,u.deepPropertyVal,!0).to.have.deep.property(e,n)};u.notDeepPropertyVal=function(t,e,n,r){new c(t,r,u.notDeepPropertyVal,!0).to.not.have.deep.property(e,n)};u.ownProperty=function(t,e,n){new c(t,n,u.ownProperty,!0).to.have.own.property(e)};u.notOwnProperty=function(t,e,n){new c(t,n,u.notOwnProperty,!0).to.not.have.own.property(e)};u.ownPropertyVal=function(t,e,n,r){new c(t,r,u.ownPropertyVal,!0).to.have.own.property(e,n)};u.notOwnPropertyVal=function(t,e,n,r){new c(t,r,u.notOwnPropertyVal,!0).to.not.have.own.property(e,n)};u.deepOwnPropertyVal=function(t,e,n,r){new c(t,r,u.deepOwnPropertyVal,!0).to.have.deep.own.property(e,n)};u.notDeepOwnPropertyVal=function(t,e,n,r){new c(t,r,u.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(e,n)};u.nestedProperty=function(t,e,n){new c(t,n,u.nestedProperty,!0).to.have.nested.property(e)};u.notNestedProperty=function(t,e,n){new c(t,n,u.notNestedProperty,!0).to.not.have.nested.property(e)};u.nestedPropertyVal=function(t,e,n,r){new c(t,r,u.nestedPropertyVal,!0).to.have.nested.property(e,n)};u.notNestedPropertyVal=function(t,e,n,r){new c(t,r,u.notNestedPropertyVal,!0).to.not.have.nested.property(e,n)};u.deepNestedPropertyVal=function(t,e,n,r){new c(t,r,u.deepNestedPropertyVal,!0).to.have.deep.nested.property(e,n)};u.notDeepNestedPropertyVal=function(t,e,n,r){new c(t,r,u.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(e,n)};u.lengthOf=function(t,e,n){new c(t,n,u.lengthOf,!0).to.have.lengthOf(e)};u.hasAnyKeys=function(t,e,n){new c(t,n,u.hasAnyKeys,!0).to.have.any.keys(e)};u.hasAllKeys=function(t,e,n){new c(t,n,u.hasAllKeys,!0).to.have.all.keys(e)};u.containsAllKeys=function(t,e,n){new c(t,n,u.containsAllKeys,!0).to.contain.all.keys(e)};u.doesNotHaveAnyKeys=function(t,e,n){new c(t,n,u.doesNotHaveAnyKeys,!0).to.not.have.any.keys(e)};u.doesNotHaveAllKeys=function(t,e,n){new c(t,n,u.doesNotHaveAllKeys,!0).to.not.have.all.keys(e)};u.hasAnyDeepKeys=function(t,e,n){new c(t,n,u.hasAnyDeepKeys,!0).to.have.any.deep.keys(e)};u.hasAllDeepKeys=function(t,e,n){new c(t,n,u.hasAllDeepKeys,!0).to.have.all.deep.keys(e)};u.containsAllDeepKeys=function(t,e,n){new c(t,n,u.containsAllDeepKeys,!0).to.contain.all.deep.keys(e)};u.doesNotHaveAnyDeepKeys=function(t,e,n){new c(t,n,u.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(e)};u.doesNotHaveAllDeepKeys=function(t,e,n){new c(t,n,u.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(e)};u.throws=function(t,e,n,r){(typeof e=="string"||e instanceof RegExp)&&(n=e,e=null);let i=new c(t,r,u.throws,!0).to.throw(e,n);return E(i,"object")};u.doesNotThrow=function(t,e,n,r){(typeof e=="string"||e instanceof RegExp)&&(n=e,e=null),new c(t,r,u.doesNotThrow,!0).to.not.throw(e,n)};u.operator=function(t,e,n,r){let i;switch(e){case"==":i=t==n;break;case"===":i=t===n;break;case">":i=t>n;break;case">=":i=t>=n;break;case"<":i=t<n;break;case"<=":i=t<=n;break;case"!=":i=t!=n;break;case"!==":i=t!==n;break;default:throw r=r&&r+": ",new C(r+'Invalid operator "'+e+'"',void 0,u.operator)}let s=new c(i,r,u.operator,!0);s.assert(E(s,"object")===!0,"expected "+A(t)+" to be "+e+" "+A(n),"expected "+A(t)+" to not be "+e+" "+A(n))};u.closeTo=function(t,e,n,r){new c(t,r,u.closeTo,!0).to.be.closeTo(e,n)};u.approximately=function(t,e,n,r){new c(t,r,u.approximately,!0).to.be.approximately(e,n)};u.sameMembers=function(t,e,n){new c(t,n,u.sameMembers,!0).to.have.same.members(e)};u.notSameMembers=function(t,e,n){new c(t,n,u.notSameMembers,!0).to.not.have.same.members(e)};u.sameDeepMembers=function(t,e,n){new c(t,n,u.sameDeepMembers,!0).to.have.same.deep.members(e)};u.notSameDeepMembers=function(t,e,n){new c(t,n,u.notSameDeepMembers,!0).to.not.have.same.deep.members(e)};u.sameOrderedMembers=function(t,e,n){new c(t,n,u.sameOrderedMembers,!0).to.have.same.ordered.members(e)};u.notSameOrderedMembers=function(t,e,n){new c(t,n,u.notSameOrderedMembers,!0).to.not.have.same.ordered.members(e)};u.sameDeepOrderedMembers=function(t,e,n){new c(t,n,u.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(e)};u.notSameDeepOrderedMembers=function(t,e,n){new c(t,n,u.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(e)};u.includeMembers=function(t,e,n){new c(t,n,u.includeMembers,!0).to.include.members(e)};u.notIncludeMembers=function(t,e,n){new c(t,n,u.notIncludeMembers,!0).to.not.include.members(e)};u.includeDeepMembers=function(t,e,n){new c(t,n,u.includeDeepMembers,!0).to.include.deep.members(e)};u.notIncludeDeepMembers=function(t,e,n){new c(t,n,u.notIncludeDeepMembers,!0).to.not.include.deep.members(e)};u.includeOrderedMembers=function(t,e,n){new c(t,n,u.includeOrderedMembers,!0).to.include.ordered.members(e)};u.notIncludeOrderedMembers=function(t,e,n){new c(t,n,u.notIncludeOrderedMembers,!0).to.not.include.ordered.members(e)};u.includeDeepOrderedMembers=function(t,e,n){new c(t,n,u.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(e)};u.notIncludeDeepOrderedMembers=function(t,e,n){new c(t,n,u.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(e)};u.oneOf=function(t,e,n){new c(t,n,u.oneOf,!0).to.be.oneOf(e)};u.isIterable=function(t,e){if(t==null||!t[Symbol.iterator])throw e=e?`${e} expected ${A(t)} to be an iterable`:`expected ${A(t)} to be an iterable`,new C(e,void 0,u.isIterable)};u.changes=function(t,e,n,r){arguments.length===3&&typeof e=="function"&&(r=n,n=null),new c(t,r,u.changes,!0).to.change(e,n)};u.changesBy=function(t,e,n,r,i){if(arguments.length===4&&typeof e=="function"){let s=r;r=n,i=s}else arguments.length===3&&(r=n,n=null);new c(t,i,u.changesBy,!0).to.change(e,n).by(r)};u.doesNotChange=function(t,e,n,r){return arguments.length===3&&typeof e=="function"&&(r=n,n=null),new c(t,r,u.doesNotChange,!0).to.not.change(e,n)};u.changesButNotBy=function(t,e,n,r,i){if(arguments.length===4&&typeof e=="function"){let s=r;r=n,i=s}else arguments.length===3&&(r=n,n=null);new c(t,i,u.changesButNotBy,!0).to.change(e,n).but.not.by(r)};u.increases=function(t,e,n,r){return arguments.length===3&&typeof e=="function"&&(r=n,n=null),new c(t,r,u.increases,!0).to.increase(e,n)};u.increasesBy=function(t,e,n,r,i){if(arguments.length===4&&typeof e=="function"){let s=r;r=n,i=s}else arguments.length===3&&(r=n,n=null);new c(t,i,u.increasesBy,!0).to.increase(e,n).by(r)};u.doesNotIncrease=function(t,e,n,r){return arguments.length===3&&typeof e=="function"&&(r=n,n=null),new c(t,r,u.doesNotIncrease,!0).to.not.increase(e,n)};u.increasesButNotBy=function(t,e,n,r,i){if(arguments.length===4&&typeof e=="function"){let s=r;r=n,i=s}else arguments.length===3&&(r=n,n=null);new c(t,i,u.increasesButNotBy,!0).to.increase(e,n).but.not.by(r)};u.decreases=function(t,e,n,r){return arguments.length===3&&typeof e=="function"&&(r=n,n=null),new c(t,r,u.decreases,!0).to.decrease(e,n)};u.decreasesBy=function(t,e,n,r,i){if(arguments.length===4&&typeof e=="function"){let s=r;r=n,i=s}else arguments.length===3&&(r=n,n=null);new c(t,i,u.decreasesBy,!0).to.decrease(e,n).by(r)};u.doesNotDecrease=function(t,e,n,r){return arguments.length===3&&typeof e=="function"&&(r=n,n=null),new c(t,r,u.doesNotDecrease,!0).to.not.decrease(e,n)};u.doesNotDecreaseBy=function(t,e,n,r,i){if(arguments.length===4&&typeof e=="function"){let s=r;r=n,i=s}else arguments.length===3&&(r=n,n=null);return new c(t,i,u.doesNotDecreaseBy,!0).to.not.decrease(e,n).by(r)};u.decreasesButNotBy=function(t,e,n,r,i){if(arguments.length===4&&typeof e=="function"){let s=r;r=n,i=s}else arguments.length===3&&(r=n,n=null);new c(t,i,u.decreasesButNotBy,!0).to.decrease(e,n).but.not.by(r)};u.ifError=function(t){if(t)throw t};u.isExtensible=function(t,e){new c(t,e,u.isExtensible,!0).to.be.extensible};u.isNotExtensible=function(t,e){new c(t,e,u.isNotExtensible,!0).to.not.be.extensible};u.isSealed=function(t,e){new c(t,e,u.isSealed,!0).to.be.sealed};u.isNotSealed=function(t,e){new c(t,e,u.isNotSealed,!0).to.not.be.sealed};u.isFrozen=function(t,e){new c(t,e,u.isFrozen,!0).to.be.frozen};u.isNotFrozen=function(t,e){new c(t,e,u.isNotFrozen,!0).to.not.be.frozen};u.isEmpty=function(t,e){new c(t,e,u.isEmpty,!0).to.be.empty};u.isNotEmpty=function(t,e){new c(t,e,u.isNotEmpty,!0).to.not.be.empty};u.containsSubset=function(t,e,n){new c(t,n).to.containSubset(e)};u.doesNotContainSubset=function(t,e,n){new c(t,n).to.not.containSubset(e)};var ss=[["isOk","ok"],["isNotOk","notOk"],["throws","throw"],["throws","Throw"],["isExtensible","extensible"],["isNotExtensible","notExtensible"],["isSealed","sealed"],["isNotSealed","notSealed"],["isFrozen","frozen"],["isNotFrozen","notFrozen"],["isEmpty","empty"],["isNotEmpty","notEmpty"],["isCallable","isFunction"],["isNotCallable","isNotFunction"],["containsSubset","containSubset"]];for(let[t,e]of ss)u[e]=u[t];var nr=[];function zr(t){let e={use:zr,AssertionError:C,util:Be,config:B,expect:Se,assert:u,Assertion:c,...Gr};return~nr.indexOf(t)||(t(e,Be),nr.push(t)),e}f(zr,"use");y();y();y();y();y();var X;(function(t){t[t.featured=0]="featured",t[t.simpleCarousel=1]="simpleCarousel",t[t.prominentCarousel=2]="prominentCarousel",t[t.chapterUpdates=3]="chapterUpdates",t[t.genres=4]="genres"})(X||(X={}));y();y();y();y();var ua=Object.freeze({items:[],metadata:void 0});y();y();y();y();y();y();y();y();y();y();y();y();y();var He=class extends he{getSections(){return[we("settings",[mt("Contents",{title:"Contents",subtitle:"Contents Settings",form:new Sn}),zn("reload_genres",{title:"Reload all Filters",onSelect:Application.Selector(this,"refreshFilters")})]),we("limit",[mt("Limit",{title:"Limit",subtitle:"Limit Settings",form:new xn})])]}async refreshFilters(){Application.invalidateSearchFilters(),await F.updateFilters(!0,D.parseFilterUpdate.bind(D))}},xn=class extends he{constructor(){super(...arguments);I(this,"limitMap",F.sectionLimit.map(({value:n,id:r})=>({title:n,id:r})))}async updateValue(n,r){Application.setState(n,r),Application.invalidateDiscoverSections(),this.reloadForm()}getSections(){return[we({id:"limit_settings",footer:"Limit Settings"},[ye("limit",{title:"Content Time Limit",subtitle:"Show this time limit of content in sections",value:F.getLimitSettings(),options:this.limitMap,minItemCount:1,maxItemCount:1,onValueChange:Application.Selector(this,"handleLimitStatusChange")})])]}async handleLimitStatusChange(n){await this.updateValue(n,"limit")}},Sn=class extends he{constructor(){super(...arguments);I(this,"genresMap",F.genres.map(({value:n,id:r})=>({title:n,id:r})));I(this,"themesMap",F.themes.map(({value:n,id:r})=>({title:n,id:r})));I(this,"typeMap",F.contentType.map(({value:n,id:r})=>({title:n,id:r})))}async updateValue(n,r){Application.setState(n,r),Application.invalidateSearchFilters(),Application.invalidateDiscoverSections(),this.reloadForm()}getSections(){return[we({id:"update_settings",footer:"Content Settings"},[ye("hide_genres",{title:"Hide Genres",subtitle:"Hide Some Genre",value:F.getHiddenGenresSettings(),options:this.genresMap,minItemCount:0,maxItemCount:this.genresMap.length,onValueChange:Application.Selector(this,"handleHideGenresStatusChange")}),ye("hide_theme",{title:"Hide Themes",subtitle:"Hide Some Theme",value:F.getHiddenThemesSettings(),options:this.themesMap,minItemCount:0,maxItemCount:this.themesMap.length,onValueChange:Application.Selector(this,"handleHideThemesStatusChange")}),ye("type",{title:"Content Type",subtitle:"Show Only this type of content",value:F.getShowOnlySettings(),options:this.typeMap,minItemCount:0,maxItemCount:this.typeMap.length,onValueChange:Application.Selector(this,"handleShowOnlyStatusChange")})])]}async handleHideGenresStatusChange(n){await this.updateValue(n,"hide_genres")}async handleHideThemesStatusChange(n){await this.updateValue(n,"hide_themes")}async handleShowOnlyStatusChange(n){await this.updateValue(n,"show_only")}};y();var Q="https://comix.to/api/v2",Ze=class extends ne{async interceptRequest(e){return e.headers={...e.headers,referer:"https://comix.to/",origin:"https://comix.to","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",accept:"image/webp,image/apng,image/*,*/*;q=0.8"},e}async interceptResponse(e,n,r){return r}},Qr=new Ne("main",{numberOfRequests:5,bufferInterval:1,ignoreImages:!1}),Xe=class{checkResponseError(e,n){switch(n.status){case 200:break;case 400:throw new Error("400 \u2013 Bad Request: The request was invalid.");case 401:throw new Error("401 \u2013 Unauthorized: Authentication is required.");case 404:throw new Error(`404 \u2013 Not Found: The resource ${n.url} was not found.`);case 408:throw new Error("408 \u2013 Request Timeout: The server took too long to respond.");case 429:throw new Error("429 \u2013 Too Many Requests: Rate limit exceeded.");case 500:throw new Error("500 \u2013 Internal Server Error: A server error occurred.");case 502:throw new Error("502 \u2013 Bad Gateway: Invalid response from upstream server.");case 504:throw new Error("504 \u2013 Gateway Timeout: Server response timed out.");case 403:case 503:throw new Fe(e,"Error Code: "+n.status);default:throw new Error(`Unexpected HTTP error: ${n.status}`)}}buildApiUrl(e,n){let r=Application.getState("hide_genres")??[],i=Application.getState("hide_themes")??[],s=Application.getState("show_only")??[],o=Application.getState("limit")??["7"],a=["author"];switch(e){case"popular":{let l=new _(Q).addPathComponent("top");return l.setQueryItem("type","trending"),l.setQueryItem("days",o),l.setQueryItem("limit","15"),l.setQueryItem("includes[]",a),s.length>0&&l.setQueryItem("types[]",s),r.length>0&&l.setQueryItem("exclude_genres[]",r),i.length>0&&l.setQueryItem("exclude_genres[]",r),l.toString()}case"follow":{let l=new _(Q).addPathComponent("top");return l.setQueryItem("type","follows"),l.setQueryItem("days",o),l.setQueryItem("limit","50"),l.setQueryItem("includes[]",a),s.length>0&&l.setQueryItem("types[]",s),r.length>0&&l.setQueryItem("exclude_genres[]",r),l.toString()}case"recent":{let l=new _(Q).addPathComponent("manga");return l.setQueryItem("order[created_at]","desc"),l.setQueryItem("page",n.toString()),l.setQueryItem("limit","20"),l.setQueryItem("includes[]",a),s.length>0&&l.setQueryItem("types[]",s),r.length>0&&l.setQueryItem("exclude_genres[]",r),l.toString()}case"updatesHot":{let l=new _(Q).addPathComponent("manga");return l.setQueryItem("order[chapter_updated_at]","desc"),l.setQueryItem("page",n.toString()),l.setQueryItem("limit","20"),l.setQueryItem("scope","hot"),s.length>0&&l.setQueryItem("types[]",s),r.length>0&&l.setQueryItem("exclude_genres[]",r),l.toString()}case"updatesNew":{let l=new _(Q).addPathComponent("manga");return l.setQueryItem("order[chapter_updated_at]","desc"),l.setQueryItem("page",n.toString()),l.setQueryItem("limit","20"),l.setQueryItem("scope","new"),s.length>0&&l.setQueryItem("types[]",s),r.length>0&&l.setQueryItem("exclude_genres[]",r),l.toString()}default:throw new Error(`${e} not found on API`)}}async getDataFromRequest(e){let n={url:e,method:"GET"},[r,i]=await Application.scheduleRequest(n);return this.checkResponseError(n,r),Application.arrayBufferToUTF8String(i)}async getJsonMangaApi(e,n){let r=this.buildApiUrl(e,n),i=await this.getDataFromRequest(r);try{return JSON.parse(i)}catch{throw new Error("Json parse failed")}}async getJsonMangaInfoApi(e){let n=new _(Q).addPathComponent("manga"),r=["author","artist"];n.addPathComponent(e),n.setQueryItem("includes[]",r);let i=await this.getDataFromRequest(n.toString());try{return JSON.parse(i)}catch{throw new Error("Json parse failed")}}async getJsonChapterApi(e,n){let r=new _(Q).addPathComponent("manga");r.addPathComponent(e),r.addPathComponent("chapters"),r.setQueryItem("page",n.toString()),r.setQueryItem("limit","100"),r.setQueryItem("order[number]","desc");let i=await this.getDataFromRequest(r.toString());try{return JSON.parse(i)}catch{throw new Error("Json parse failed")}}async getJsonSearchApi(e,n,r,i,s,o,a,l,p,m,g){let b=new _(Q).addPathComponent("manga");e.length>0&&b.setQueryItem("keyword",e),r.length>0&&b.setQueryItem("genres[]",r),i.length>0&&b.setQueryItem("genres[]",i),l.length>0&&b.setQueryItem("genres[]",l),s.length>0&&b.setQueryItem("types[]",s),o.length>0&&b.setQueryItem("demographics[]",o),a.length>0&&b.setQueryItem("statuses[]",a),b.setQueryItem("page",n.toString()),b.setQueryItem(`order[${m}]`,g),b.setQueryItem("genres_mode",p);let x=await this.getDataFromRequest(b.toString());try{return JSON.parse(x)}catch{throw new Error("Json parse failed")}}async getJsonChapPagesApi(e){let n=new _(Q).addPathComponent("chapters");n.addPathComponent(e);let r=await this.getDataFromRequest(n.toString());try{return JSON.parse(r)}catch{throw new Error("Json parse failed")}}async getFiltersApi(e){let n=new _(Q).addPathComponent("terms");n.setQueryItem("limit","100"),n.setQueryItem("type",e);let r=await this.getDataFromRequest(n.toString());try{return JSON.parse(r)}catch{throw new Error("Json parse failed")}}};y();var W=new Xe,et=class{async parseSectionRecent(e,n){let r=[],i=n?.page??1,s=await W.getJsonMangaApi(e,i);if(s.result?.items)for(let o of s.result.items){let a=o.poster.large||o.poster.medium||o.poster.small||"https://comix.to/images/no-poster.png";r.push({type:"simpleCarouselItem",contentRating:J.EVERYONE,imageUrl:a,mangaId:o.hash_id,title:o.title,subtitle:o.author?.[0]?.title??""})}return{items:r,metadata:{page:i+1}}}async parseSectionFollow(e){let n=[],r=await W.getJsonMangaApi(e,1);if(r.result?.items)for(let i of r.result.items){let s=i.poster.large||i.poster.medium||i.poster.small||"https://comix.to/images/no-poster.png";n.push({type:"prominentCarouselItem",contentRating:J.EVERYONE,imageUrl:s,mangaId:i.hash_id,title:i.title,subtitle:i.author?.[0]?.title??""})}return{items:n,metadata:void 0}}async parseSectionPopular(e){let n=[],r=await W.getJsonMangaApi(e,1);if(r.result?.items)for(let i of r.result.items){let s=i.poster.large||i.poster.medium||i.poster.small||"https://comix.to/images/no-poster.png";n.push({type:"featuredCarouselItem",contentRating:J.EVERYONE,imageUrl:s,mangaId:i.hash_id,title:i.title,supertitle:i.author?.[0]?.title??""})}return{items:n,metadata:void 0}}async parseSectionChUp(e,n){let r=[],i=n?.page??1,s=await W.getJsonMangaApi(e,i);return s.result?.items?(s.result.items.forEach(o=>{let a=o.poster.large||o.poster.medium||o.poster.small||"https://comix.to/images/no-poster.png";r.push({contentRating:J.EVERYONE,imageUrl:a,chapterId:o.hash_id,mangaId:o.hash_id,subtitle:"Chapter "+o.latest_chapter.toString(),title:o.title,type:"chapterUpdatesCarouselItem",publishDate:new Date(o.chapter_updated_at*1e3)})}),{items:r,metadata:s.result.items.length>0?{page:i+1}:void 0}):{items:r,metadata:void 0}}async parseChapters(e){let n=await W.getJsonChapterApi(e.mangaId,1),r=n.result.pagination.last_page??1,i=[];i.push(Promise.resolve({page:1,data:n.result.items}));for(let a=2;a<=r;a++)i.push(W.getJsonChapterApi(e.mangaId,a).then(l=>({page:a,data:l.result.items})));let s=await Promise.all(i);return s.sort((a,l)=>a.page-l.page),s.flatMap(a=>a.data).map(a=>{let l=a.scanlation_group?.name??"";return{chapterId:a.chapter_id.toString(),sourceManga:e,langCode:a.language,chapNum:a.number,title:a.name,version:l,publishDate:new Date(a.updated_at*1e3),creationDate:new Date(a.created_at*1e3)}})}async parseChapterDetails(e){let n=await W.getJsonChapPagesApi(e);return{id:e,mangaId:n.result.manga_id.toString(),pages:n.result.images.map(r=>r.url)}}async parseMangaDetails(e){let r=(await W.getJsonMangaInfoApi(e)).result,i=r.term_ids,s=F.genres.filter(g=>i.includes(Number(g.id))),o=F.themes.filter(g=>i.includes(Number(g.id))),a=s.map(g=>({id:g.id,title:g.value})),l=o.map(g=>({id:g.id,title:g.value})),p=[{title:"genres",tags:a,id:"genres"},{title:"themes",tags:l,id:"themes"}],m={thumbnailUrl:r.poster.large||r.poster.medium||r.poster.small||"https://comix.to/images/no-poster.png",synopsis:r.synopsis,primaryTitle:r.title,secondaryTitles:r.alt_titles,contentRating:J.EVERYONE,status:r.status,bannerUrl:r.poster.medium.length>0?r.poster.medium:"https://comix.to/images/no-poster.png",artist:r.artist?.[0]?.title??"",author:r.author?.[0]?.title??"",rating:r.rated_avg/10,tagGroups:p,shareUrl:`https://comix.to/title/${r.hash_id}`};return{mangaId:e,mangaInfo:m}}async parseSearchResults(e,n,r){let i=n?.page??1,s=M=>e.filters.find(Jr=>Jr.id==M)?.value,o=s("genres")??"",a=s("themes")??"",l=s("types")??"",p=s("demographic")??"",m=s("status")??"",g=s("filter_mode")??"",b=s("formats")??"",x=[],S=[],P=[],q=[],O=[],U=[];if(o&&typeof o=="object")for(let M of Object.entries(o))M[1]=="included"&&x.push(M[0]),M[1]=="excluded"&&x.push("-"+M[0]);if(a&&typeof o=="object")for(let M of Object.entries(a))M[1]=="included"&&S.push(M[0]),M[1]=="excluded"&&S.push("-"+M[0]);if(l&&typeof l=="object")for(let M of Object.entries(l))M[1]=="included"&&P.push(M[0]);if(p&&typeof p=="object")for(let M of Object.entries(p))M[1]=="included"&&q.push(M[0]);if(m&&typeof m=="object")for(let M of Object.entries(m))M[1]=="included"&&O.push(M[0]);if(b&&typeof b=="object")for(let M of Object.entries(b))M[1]=="included"&&U.push(M[0]);let[Wr,Kr]=r.id.split("$"),rt=await W.getJsonSearchApi(e.title,i,x,S,P,q,O,U,g,Wr??"",Kr??""),it=[];return rt.result?.items?(rt.result.items.forEach(M=>{it.push({mangaId:M.hash_id,title:M.title,imageUrl:M.poster.large.length>0?M.poster.large:"https://comix.to/images/no-poster.png",contentRating:J.EVERYONE})}),{items:it,metadata:rt.result.items.length>0?{page:i+1}:void 0}):{items:it,metadata:void 0}}async parseFilterUpdate(e){let n=await W.getFiltersApi(e),r=[];return n.result.items.forEach(i=>{r.push({id:i.term_id.toString(),value:i.title})}),r}};y();var tt=class{constructor(){I(this,"genres",[]);I(this,"themes",[]);I(this,"contentType",[{id:"manga",value:"Manga"},{id:"manhwa",value:"Manhwa"},{id:"manhua",value:"Manhua"},{id:"other",value:"Other"}]);I(this,"order",[{id:"relevance$desc",label:"Best Match"},{id:"chapter_updated_at$asc",label:"Update Date \u2191"},{id:"chapter_updated_at$desc",label:"Update Date \u2193"},{id:"created_at$asc",label:"Created Date \u2191"},{id:"created_at$desc",label:"Created Date \u2193"},{id:"title$asc",label:"Title \u2191"},{id:"title$desc",label:"Title \u2193"},{id:"year$asc",label:"Year \u2191"},{id:"year$desc",label:"Year \u2193"},{id:"score$asc",label:"Average Score \u2191"},{id:"score$desc",label:"Average Score \u2193"},{id:"total_views$asc",label:"Total Views \u2191"},{id:"total_views$desc",label:"Total Views \u2193"},{id:"followed_count$asc",label:"Most Follows \u2191"},{id:"followed_count$desc",label:"Most Follows \u2193"},{id:"views_7d$asc",label:"Most Views 7 Days \u2191"},{id:"views_7d$desc",label:"Most Views 7 Days \u2193"},{id:"views_30d$asc",label:"Most Views 1 Month \u2191"},{id:"views_30d$desc",label:"Most Views 1 Month \u2193"},{id:"views_90d$asc",label:"Most Views 3 Month \u2191"},{id:"views_90d$desc",label:"Most Views 3 Month \u2193"}]);I(this,"publication_status",[{id:"finished",value:"Finished"},{id:"releasing",value:"Releasing"},{id:"on_hiatus",value:"On Hiatus"},{id:"discontinued",value:"Discontinued"},{id:"not_yet_released",value:"Not Yet Released"}]);I(this,"demographic",[]);I(this,"formats",[]);I(this,"sectionLimit",[{id:"7",value:"Week"},{id:"30",value:"1 Month"},{id:"90",value:"3 Month"},{id:"180",value:"6 Month"},{id:"365",value:"1 Year"}])}async getFilters(e){let n=[];await this.updateFilters(!1,e);let r=this.getHiddenGenresSettings(),i=Object.fromEntries(this.genres.filter(p=>r.includes(p.id)).map(p=>[p.id,"excluded"])),s=this.getHiddenThemesSettings(),o=Object.fromEntries(this.genres.filter(p=>s.includes(p.id)).map(p=>[p.id,"excluded"])),a=this.getShowOnlySettings(),l=Object.fromEntries(this.contentType.filter(p=>a.includes(p.id)).map(p=>[p.id,"included"]));return n.push({type:"multiselect",id:"genres",title:"Genres",options:this.genres,value:i,allowExclusion:!0,allowEmptySelection:!0,maximum:this.genres.length}),n.push({type:"multiselect",id:"themes",title:"Themes",options:this.themes,value:o,allowExclusion:!0,allowEmptySelection:!0,maximum:this.themes.length}),n.push({type:"multiselect",id:"formats",title:"Formats",options:this.formats,value:{},allowExclusion:!1,allowEmptySelection:!0,maximum:this.formats.length}),n.push({type:"dropdown",id:"filter_mode",title:"Filter Mode",value:"and",options:[{id:"and",value:"AND"},{id:"or",value:"OR"}]}),n.push({type:"multiselect",id:"types",title:"Types",options:this.contentType,value:l,allowExclusion:!1,allowEmptySelection:!0,maximum:this.contentType.length}),n.push({type:"multiselect",id:"demographic",title:"Demographic",options:this.demographic,value:{},allowExclusion:!1,allowEmptySelection:!0,maximum:this.demographic.length}),n.push({type:"multiselect",id:"status",title:"Status",options:this.publication_status,value:{},allowExclusion:!1,allowEmptySelection:!0,maximum:this.publication_status.length}),n}getHiddenGenresSettings(){return Application.getState("hide_genres")??[]}getHiddenThemesSettings(){return Application.getState("hide_themes")??[]}getShowOnlySettings(){return Application.getState("show_only")??[]}getLimitSettings(){return Application.getState("limit")??["7"]}async updateFilters(e,n){if(Number(Application.getState("last-filter-fetch")??0)+172800>new Date().valueOf()/1e3&&!e){let o=["genre","demographic","theme","format"].map(g=>Application.getState(`${g}`)),[a,l,p,m]=o;if(a===void 0||l===void 0||p===void 0||m===void 0){await this.updateFilters(!0,n);return}this.setGenreFilter(JSON.parse(a)),this.setDemographicFilter(JSON.parse(l)),this.setThemesFilter(JSON.parse(p)),this.setFormatsFilter(JSON.parse(m))}else this.genres=await n("genre"),this.demographic=await n("demographic"),this.themes=await n("theme"),this.formats=await n("format"),Application.setState(String(new Date().valueOf()/1e3),"last-filter-fetch")}setGenreFilter(e){this.genres=e,Application.setState(JSON.stringify(e),"genre")}setDemographicFilter(e){this.genres=e,Application.setState(JSON.stringify(e),"demographic")}setThemesFilter(e){this.genres=e,Application.setState(JSON.stringify(e),"theme")}setFormatsFilter(e){this.genres=e,Application.setState(JSON.stringify(e),"format")}};var D=new et,F=new tt,nt=class{constructor(){I(this,"mainInterceptor",new Ze("main"))}async getSettingsForm(){return new He}async initialise(){Qr.registerInterceptor(),this.mainInterceptor.registerInterceptor()}async getDiscoverSections(){let e={id:"popular",title:"Popular",type:X.featured},n={id:"follow",title:"Most Follows New Comics",type:X.prominentCarousel},r={id:"recent",title:"Recently Added",type:X.simpleCarousel},i={id:"updatesHot",title:"Latest Updates (HOT)",type:X.chapterUpdates},s={id:"updatesNew",title:"Latest Updates (NEW)",type:X.chapterUpdates};return[e,n,r,i,s]}async getDiscoverSectionItems(e,n){switch(e.id){case"popular":return await D.parseSectionPopular("popular");case"follow":return await D.parseSectionFollow("follow");case"recent":return await D.parseSectionRecent("recent",n);case"updatesNew":return await D.parseSectionChUp("updatesNew",n);case"updatesHot":return await D.parseSectionChUp("updatesHot",n);default:return{items:[]}}}async getSearchFilters(){return F.getFilters(D.parseFilterUpdate.bind(D))}getSearchResults(e,n,r){return D.parseSearchResults(e,n,r)}async getSortingOptions(){return F.order}getMangaDetails(e){return D.parseMangaDetails(e)}getChapters(e){return D.parseChapters(e)}getChapterDetails(e){return D.parseChapterDetails(e.chapterId)}async getImageRequest(e){return{url:e,method:"GET",headers:{referer:"https://comix.to/",origin:"https://comix.to","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",accept:"image/webp,image/apng,image/*,*/*;q=0.8"}}}},os=new nt;return si(as);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

chai/index.js:
  (*!
   * Chai - flag utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - test utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - expectTypes utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - getActual utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - message composition utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - transferFlags utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * chai
   * http://chaijs.com
   * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - isProxyEnabled helper
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - addProperty utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - addLengthGuard utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - getProperties utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - proxify utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - addMethod utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - overwriteProperty utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - overwriteMethod utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - addChainingMethod utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - overwriteChainableMethod utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - compareByInspect utility
   * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - getOwnEnumerablePropertySymbols utility
   * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - getOwnEnumerableProperties utility
   * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - isNaN utility
   * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>
   * MIT Licensed
   *)
  (*!
   * chai
   * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * chai
   * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*! Bundled license information:
  
  deep-eql/index.js:
    (*!
     * deep-eql
     * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
     * MIT Licensed
     *)
    (*!
     * Check to see if the MemoizeMap has recorded a result of the two operands
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {MemoizeMap} memoizeMap
     * @returns {Boolean|null} result
    *)
    (*!
     * Set the result of the equality into the MemoizeMap
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {MemoizeMap} memoizeMap
     * @param {Boolean} result
    *)
    (*!
     * Primary Export
     *)
    (*!
     * The main logic of the `deepEqual` function.
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {Object} [options] (optional) Additional options
     * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
     * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
        complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
        references to blow the stack.
     * @return {Boolean} equal match
    *)
    (*!
     * Compare two Regular Expressions for equality.
     *
     * @param {RegExp} leftHandOperand
     * @param {RegExp} rightHandOperand
     * @return {Boolean} result
     *)
    (*!
     * Compare two Sets/Maps for equality. Faster than other equality functions.
     *
     * @param {Set} leftHandOperand
     * @param {Set} rightHandOperand
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
     *
     * @param {Iterable} leftHandOperand
     * @param {Iterable} rightHandOperand
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Simple equality for generator objects such as those returned by generator functions.
     *
     * @param {Iterable} leftHandOperand
     * @param {Iterable} rightHandOperand
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Determine if the given object has an @@iterator function.
     *
     * @param {Object} target
     * @return {Boolean} `true` if the object has an @@iterator function.
     *)
    (*!
     * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
     * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
     *
     * @param {Object} target
     * @returns {Array} an array of entries from the @@iterator function
     *)
    (*!
     * Gets all entries from a Generator. This will consume the generator - which could have side effects.
     *
     * @param {Generator} target
     * @returns {Array} an array of entries from the Generator.
     *)
    (*!
     * Gets all own and inherited enumerable keys from a target.
     *
     * @param {Object} target
     * @returns {Array} an array of own and inherited enumerable keys from the target.
     *)
    (*!
     * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
     * each key. If any value of the given key is not equal, the function will return false (early).
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
     * for each enumerable key in the object.
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Returns true if the argument is a primitive.
     *
     * This intentionally returns true for all objects that can be compared by reference,
     * including functions and symbols.
     *
     * @param {Mixed} value
     * @return {Boolean} result
     *)
  *)
*/
